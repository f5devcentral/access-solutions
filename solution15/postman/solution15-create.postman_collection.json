{
	"info": {
		"_postman_id": "fecd4b33-71cc-45f3-b1b5-a52bd88c6f2d",
		"name": "solution15-create",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Set Collection Parameters",
			"item": [
				{
					"name": "set parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2cc7d07d-1b6f-4cba-8df4-24545ff9c3ae",
								"exec": [
									"pm.test(\"Setting Parameters\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9ada3523-703b-42d1-9be1-90fa31d6908b",
								"exec": [
									"//Define the number of virtual servers in this solution\r",
									"pm.collectionVariables.set(\"VIPS\", \"2\");\r",
									"\r",
									"//THis below varaibles are using for defining the tenant ID in AS3.  This should be the solution number. Example: solution1 or solution2.\r",
									"pm.collectionVariables.set(\"PATH_NAME\", \"solution15\");\r",
									"pm.collectionVariables.set(\"PARTITION_NAME\", \"solution15\");\r",
									"\r",
									"//This is the primary section defining the settings for the application the solutions is going to deploy\r",
									"pm.collectionVariables.set(\"DNS1_NAME\", \"portal.acme.com\");\r",
									"pm.collectionVariables.set(\"VS1_NAME\", \"portal\");\r",
									"\r",
									"\r",
									"//This section is used when building two virtrual servers as part of a solutions or when a reference is needed to another solutions.  For example, if your solutions involved Federation you will need to define both the FQDNs for the both the SP and IDP.  \r",
									"\r",
									"pm.collectionVariables.set(\"DNS2_NAME\", \"iap.acme.com\");\r",
									"pm.collectionVariables.set(\"VS2_NAME\", \"iap\");\r",
									"\r",
									"pm.collectionVariables.set(\"DNS3_NAME\", \"sp.acme.com\");\r",
									"pm.collectionVariables.set(\"VS3_NAME\", \"sp\");\r",
									"\r",
									"pm.collectionVariables.set(\"DNS4_NAME\", \"sp1.acme.com\");\r",
									"pm.collectionVariables.set(\"VS4_NAME\", \"sp1\");\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"//This variable is used for switching between standard and modern for logon pages, webtops, and other objects that support those changes.\r",
									"pm.collectionVariables.set(\"CUSTOM_TYPE\", \"modern\");\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"4"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Test For Solution Conflict",
			"item": [
				{
					"name": "Detect Wide-IP Conflict",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7e2d328a-6a32-4049-ad39-9079747c84ca",
								"exec": [
									"var PARTITION_NAME = pm.collectionVariables.get(\"PARTITION_NAME\");",
									"var jsonData = pm.response.json();",
									"var EXIST = 0",
									"",
									"for (var i = 0; i < jsonData.items.length; i++) {",
									"    for (var x = 1; x < 10; x++) {",
									"        var DNS_NAME = pm.collectionVariables.get(\"DNS\"+x+\"_NAME\");",
									"        if ( jsonData.items[i].name  === DNS_NAME ) {  ",
									"                if ( jsonData.items[i].partition  !== PARTITION_NAME ) { ",
									"                    var EXIST = 1",
									"                    pm.test( jsonData.items[i].partition+\" must be deleted before \"+PARTITION_NAME+\" can be deployed\", function () { ",
									"                        pm.expect(EXIST).to.be.a(\"0\");     ",
									"                    });",
									"                    postman.setNextRequest(\"null\");",
									"                ",
									"                }",
									"        }",
									"    }          ",
									"}",
									" ",
									"if (EXIST === 0) {",
									"    if (responseCode.code === 200) {",
									"        pm.test(\"No Existing Conficts Detected\" , function () {",
									"            pm.response.to.have.status(200);",
									"        }); ",
									"    }",
									"}",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0761c277-9b03-4787-8d93-3e7da9ec517f",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.11//mgmt/tm/gtm/wideip/a",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"",
								"mgmt",
								"tm",
								"gtm",
								"wideip",
								"a"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Start-loop-Datacenters",
			"item": [
				{
					"name": "start",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0d910f40-b1bc-4f73-9e60-eec2d8d4c3ed",
								"exec": [
									"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
									"\r",
									"\r",
									"pm.test(\"Starting configuratioon of Data Center \"+DC_COUNTER, function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "7369de77-2318-48cd-84ff-1eca96133f85",
								"exec": [
									"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
									"var DC2_APM = pm.environment.get(\"DC2_APM\");\r",
									"\r",
									"\r",
									"if (DC2_APM === 'true' && DC_COUNTER === '2') {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.5\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP2_SCOPE\"));\r",
									"\r",
									"} else {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.4\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP1_SCOPE\"));\r",
									"pm.collectionVariables.set('DC_COUNTER', '1' );\r",
									"}\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "574fa476-bf6c-4d84-bfe9-56a7f1c4584e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "d5fda4a2-642c-4355-be0a-2744deff0e79",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Start Loop - Imperative Calls",
			"item": [
				{
					"name": "start-objects",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4f6e99fe-b77d-4bfc-901f-4cd772f80722",
								"exec": [
									"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
									"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\");\r",
									"\r",
									"if (!VS_COUNTER) {\r",
									"pm.collectionVariables.set(\"VS_COUNTER\", 1);\r",
									"pm.collectionVariables.set(\"DNS_COUNTER\", 1);\r",
									"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
									"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\");\r",
									"pm.collectionVariables.set(\"VS_NAME\", pm.collectionVariables.get(\"VS\"+VS_COUNTER+\"_NAME\"));\r",
									"pm.collectionVariables.set(\"DNS_NAME\", pm.collectionVariables.get(\"DNS\"+DNS_COUNTER+\"_NAME\"));\r",
									" } else { \r",
									"\r",
									"pm.collectionVariables.set(\"VS_NAME\", pm.collectionVariables.get(\"VS\"+VS_COUNTER+\"_NAME\"));\r",
									"pm.collectionVariables.set(\"DNS_NAME\", pm.collectionVariables.get(\"DNS\"+DNS_COUNTER+\"_NAME\"));\r",
									"}\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "4e08c4d9-09fb-49cb-a0b5-03f66d781716",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "aeb1e9af-5649-46d2-a68f-2dddc1e80bb4",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "1f174dc8-2820-406d-a8c3-9701febdd5b0",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Websites",
			"item": [
				{
					"name": "start Website",
					"item": [
						{
							"name": "start-website-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9d33770b-4b3a-48c7-8e4c-b34d12c9577c",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var DNS_NAME = pm.collectionVariables.get(\"DNS_NAME\");\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    pm.test(\"Creating website \"+DNS_NAME, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else if (VS<=VS_COUNTER) {\r",
											"    pm.test(\"Continuing creation of Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-website-\"+VS);\r",
											"} else {\r",
											"pm.test(\"Currently running loop \"+VS_COUNTER+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-website-\"+VS);\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "cf4b25ab-d3ea-4fff-805a-ff17c41ceb80",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5325eec8-1f5f-41c0-b412-c15c1babd6f5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0831067c-9ed6-451f-8da1-cfd29d269a0c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create Website - sp.acme.com",
					"item": [
						{
							"name": "start-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "14572dc1-e04f-4e35-9dee-e975ef1638a7",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE WEBSITE WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"} else {\r",
											"    postman.setNextRequest(\"end-website\");\r",
											"}\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c71f323f-6578-46fb-925d-00d006efced6",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-scope-status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8ab042f4-6cfa-4040-80d4-aa420eb41baa",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");",
											"var DNS_COUNTER = 1",
											"",
											"",
											"var jsonData = pm.response.json();",
											"var EXIST = 0",
											"",
											"if(!jsonData.length) {",
											"    if ( jsonData.Description  === DNS_NAME ) {",
											"        pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER, jsonData.IPAddress.IPAddressToString );",
											"        pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"        var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"        postman.setNextRequest(\"bigip-create-node-1\");",
											"        var EXIST = 1;",
											"        if (responseCode.code === 200) {",
											"            pm.test(\"Existing Address \"+ADDR+\" assigned to \"+DNS_NAME, function () {",
											"                pm.response.to.have.status(200);",
											"            });",
											"        }",
											"    }",
											"} else {",
											"",
											"  for (var i = 0; i < jsonData.length; i++) {",
											"",
											"        if ( jsonData[i].Description  === DNS_NAME ) {   ",
											"            pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER, jsonData[i].IPAddress.IPAddressToString );",
											"            pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"            var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"            postman.setNextRequest(\"bigip-create-node-1\");",
											"            var EXIST =1;",
											"",
											"            if (responseCode.code === 200) {",
											"                pm.test(\"Existing Address \"+ADDR+\" assigned to \"+DNS_NAME, function () {",
											"                    pm.response.to.have.status(200);",
											"                });",
											"            }",
											"        } ",
											"    }",
											"} ",
											"",
											"if (EXIST === 0) {",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"No Address assigned to \"+DNS_NAME , function () {",
											"            pm.response.to.have.status(200);",
											"        }); ",
											"    }",
											"}",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/scope-status?scope={{IIS_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"scope-status"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{IIS_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-Check for next address available",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ce1dddbf-8dd2-4de7-b67a-cca10adb1b71",
										"exec": [
											"var DNS_COUNTER = 1",
											"var jsonData = pm.response.json();",
											"",
											"pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER,jsonData.address);",
											"pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"",
											"pm.test(\"Next address available: \"+ADDR, function () {",
											"    pm.expect(jsonData.address).not.eql(null);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/available?scope={{IIS_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"available"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{IIS_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-Address Checkout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8c95b1ce-d693-4107-951f-b4074c0304b8",
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\");",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Address \"+ADDR+\" Checked Out\", function () {",
											"    pm.expect(jsonData.status).not.eql(\"Fail\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"scope\":\"{{IIS_SCOPE}}\",\n\"address\":\"{{IIS_ADDRESS}}\",\n\"name\":\"{{DNS3_NAME}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/addr/checkout",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"checkout"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-node-1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "56d0e4dc-b69f-487d-aad6-c1852c91af5e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ee56015a-c762-43d8-8f0c-f548e272982c",
										"exec": [
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
											"var DC2_APM = pm.environment.get(\"DC2_APM\");",
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\");",
											"",
											"",
											"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
											"",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"            pm.response.to.have.status(200);",
											"        });",
											"    } else  ",
											"        pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"            pm.response.to.have.status(409);",
											"        });",
											"",
											"    postman.setNextRequest(\"end-website\");",
											"",
											"} else {",
											"",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"            pm.response.to.have.status(200);",
											"        });",
											"    } else  ",
											"        pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"            pm.response.to.have.status(409);",
											"        });",
											"",
											"",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\"name\": \"{{IIS_ADDRESS}}\",\r\n\"address\": \"{{IIS_ADDRESS}}\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"node"
									]
								}
							},
							"response": []
						},
						{
							"name": "iis-create-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f8889c57-5358-4bcf-a3c8-5d7ed04fc2a5",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");",
											"var jsonData = pm.response.json();",
											"",
											"for (var i = 0; i < jsonData.length; i++) {",
											"",
											"\t\tif (jsonData[i].status === \"Success\") {",
											"\t\t\t",
											"                pm.test(\"Website \"+DNS_NAME+\" created\", function () {",
											"                    pm.expect(jsonData[i].status).to.eql(\"Success\");",
											"                });",
											"\t\t\t",
											"\t\t}",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"site_name\":\"{{DNS3_NAME}}\",\n\t\"http_port\":\"80\",\n\t\"https_port\":\"443\",\n\t\"computer_ip\":\"{{IIS_ADDRESS}}\",\n\t\"template_number\": \"2\",\n\t\"authentication\": \"none\",\n\t\"customization\": {\n\t\t\"background\": \"green\"\n\n\t}\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/website",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"website"
									]
								}
							},
							"response": []
						},
						{
							"name": "ad-create-A record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bdec64a2-d471-4633-8d2a-daba76628d2a",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");   ",
											"var jsonData = pm.response.json();",
											"",
											"\tif (jsonData.length) {",
											"",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"A Record \"+DNS_NAME+\" Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else ",
											"        pm.test(\"A Record \"+DNS_NAME+\" created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"",
											"       ",
											"    ",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"a\",\n\"fqdn\":\"{{DNS3_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						},
						{
							"name": "ad-create-PTR record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "218c1384-69cd-4cb9-8f1f-ce5f0f15924c",
										"exec": [
											"var jsonData = pm.response.json();",
											"\tif (jsonData.length) {",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"PTR Record Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else {",
											"        pm.test(\"PTR Record created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"ptr\",\n\"fqdn\":\"{{DNS3_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						},
						{
							"name": "end-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3079159f-8b09-4cc7-ba26-34c47e116e9b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "21d444ee-4d55-44b0-ace5-e8fede6cb256",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create Website - sp1.acme.com",
					"item": [
						{
							"name": "start-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "65767289-0ede-45f8-8eef-c6b3c1565ed6",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE WEBSITE WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"} else {\r",
											"    postman.setNextRequest(\"end-website\");\r",
											"}\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9c464958-7ac5-41bd-b012-efa418895d32",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-scope-status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "18476759-4692-4f33-80e6-327bbee968b1",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS4_NAME\");",
											"var DNS_COUNTER = 2",
											"",
											"",
											"var jsonData = pm.response.json();",
											"var EXIST = 0",
											"",
											"if(!jsonData.length) {",
											"    if ( jsonData.Description  === DNS_NAME ) {",
											"        pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER, jsonData.IPAddress.IPAddressToString );",
											"        pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"        var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"        postman.setNextRequest(\"bigip-create-node-1\");",
											"        var EXIST = 1;",
											"        if (responseCode.code === 200) {",
											"            pm.test(\"Existing Address \"+ADDR+\" assigned to \"+DNS_NAME, function () {",
											"                pm.response.to.have.status(200);",
											"            });",
											"        }",
											"    }",
											"} else {",
											"",
											"  for (var i = 0; i < jsonData.length; i++) {",
											"",
											"        if ( jsonData[i].Description  === DNS_NAME ) {   ",
											"            pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER, jsonData[i].IPAddress.IPAddressToString );",
											"            pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"            var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"            postman.setNextRequest(\"bigip-create-node-1\");",
											"            var EXIST =1;",
											"",
											"            if (responseCode.code === 200) {",
											"                pm.test(\"Existing Address \"+ADDR+\" assigned to \"+DNS_NAME, function () {",
											"                    pm.response.to.have.status(200);",
											"                });",
											"            }",
											"        } ",
											"    }",
											"} ",
											"",
											"if (EXIST === 0) {",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"No Address assigned to \"+DNS_NAME , function () {",
											"            pm.response.to.have.status(200);",
											"        }); ",
											"    }",
											"}",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/scope-status?scope={{IIS_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"scope-status"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{IIS_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-Check for next address available",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "78732c69-3ad7-464f-88bf-fd4e49e6657c",
										"exec": [
											"var DNS_COUNTER = 2",
											"var jsonData = pm.response.json();",
											"",
											"pm.collectionVariables.set(\"IIS_ADDRESS\"+DNS_COUNTER,jsonData.address);",
											"pm.collectionVariables.set(\"IIS_ADDRESS\", pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER))",
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\"+DNS_COUNTER)",
											"",
											"pm.test(\"Next address available: \"+ADDR, function () {",
											"    pm.expect(jsonData.address).not.eql(null);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/available?scope={{IIS_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"available"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{IIS_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "IIS-Address Checkout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "36db1457-f04b-4593-baf2-319c434c1be9",
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\");",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Address \"+ADDR+\" Checked Out\", function () {",
											"    pm.expect(jsonData.status).not.eql(\"Fail\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"scope\":\"{{IIS_SCOPE}}\",\n\"address\":\"{{IIS_ADDRESS}}\",\n\"name\":\"{{DNS4_NAME}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/addr/checkout",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"checkout"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-node-1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1378666c-624f-4e77-ba53-bcc86be88e03",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "58ffedb5-f337-4041-9b2f-4982ee9843e5",
										"exec": [
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
											"var DC2_APM = pm.environment.get(\"DC2_APM\");",
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS\");",
											"",
											"",
											"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
											"",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"            pm.response.to.have.status(200);",
											"        });",
											"    } else  ",
											"        pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"            pm.response.to.have.status(409);",
											"        });",
											"",
											"    postman.setNextRequest(\"end-website\");",
											"",
											"} else {",
											"",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"            pm.response.to.have.status(200);",
											"        });",
											"    } else  ",
											"        pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"            pm.response.to.have.status(409);",
											"        });",
											"",
											"",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\"name\": \"{{IIS_ADDRESS}}\",\r\n\"address\": \"{{IIS_ADDRESS}}\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"node"
									]
								}
							},
							"response": []
						},
						{
							"name": "iis-create-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b5f96c04-bf9a-4eca-9e8b-644f80b0e6b0",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS4_NAME\");",
											"var jsonData = pm.response.json();",
											"",
											"for (var i = 0; i < jsonData.length; i++) {",
											"",
											"\t\tif (jsonData[i].status === \"Success\") {",
											"\t\t\t",
											"                pm.test(\"Website \"+DNS_NAME+\" created\", function () {",
											"                    pm.expect(jsonData[i].status).to.eql(\"Success\");",
											"                });",
											"\t\t\t",
											"\t\t}",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"site_name\":\"{{DNS4_NAME}}\",\n\t\"http_port\":\"80\",\n\t\"https_port\":\"443\",\n\t\"computer_ip\":\"{{IIS_ADDRESS}}\",\n\t\"template_number\": \"2\",\n\t\"authentication\": \"none\",\n\t\"customization\": {\n\t\t\"background\": \"red\"\n\n\t}\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/website",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"website"
									]
								}
							},
							"response": []
						},
						{
							"name": "ad-create-A record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fad082f7-5b0a-48ae-839c-34eb611a7fee",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS4_NAME\");   ",
											"var jsonData = pm.response.json();",
											"",
											"\tif (jsonData.length) {",
											"",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"A Record \"+DNS_NAME+\" Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else ",
											"        pm.test(\"A Record \"+DNS_NAME+\" created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"",
											"       ",
											"    ",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"a\",\n\"fqdn\":\"{{DNS4_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						},
						{
							"name": "ad-create-PTR record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bcd12f1c-1c4f-4bb4-b726-8b772677c7ce",
										"exec": [
											"var jsonData = pm.response.json();",
											"\tif (jsonData.length) {",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"PTR Record Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else {",
											"        pm.test(\"PTR Record created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"ptr\",\n\"fqdn\":\"{{DNS4_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						},
						{
							"name": "end-website",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "20d30d82-f5b6-49bf-b448-81cce6752277",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ba3ff2e7-56f5-42d2-a1f0-94a0170e50c8",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End Website",
					"item": [
						{
							"name": "end-website-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "296d2062-0322-40a0-9996-192b24692137",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d36b28db-726c-4325-8668-d00ea7d3648a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "052be514-c38a-449a-aefc-f8bf6ff5e268",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "d39965dc-cb67-4505-b62b-fd5eb72314a5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "LTM Objects",
			"item": [
				{
					"name": "start LTM objects",
					"item": [
						{
							"name": "start-ltm-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2450a1bf-749c-47e6-a30a-759c12cdc23e",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"pm.test(\"Creating LTM objects for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    \r",
											"} else {\r",
											"    postman.setNextRequest(\"end-ltm-1\");\r",
											"}\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "76fe902a-3617-40ba-884e-2a8bea425a3f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ede2f175-e41b-4458-9fe6-b6698bd2c702",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "517478a1-ab7c-471e-aaa6-e4d2f40c09ae",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Pool-sp.acme.com",
					"item": [
						{
							"name": "bigip-create-node",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "94e95c26-909a-477e-badd-477ed69d37c0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "35271955-8f96-4f61-8cb2-64f238ad57cf",
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS1\");",
											"  ",
											"if (responseCode.code === 200) {",
											"    pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"    pm.response.to.have.status(200);",
											"    });",
											"} else  {",
											"    pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"    pm.response.to.have.status(409);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\"name\": \"{{IIS_ADDRESS1}}\",\r\n\"address\": \"{{IIS_ADDRESS1}}\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"node"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-iis-pool",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c7bf93f8-f895-4a20-a718-f9a4bd9a9ba3",
										"exec": [
											"var PARTITION_NAME = pm.collectionVariables.get(\"PARTITION_NAME\");",
											"var VS_NAME = pm.collectionVariables.get(\"VS3_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(PARTITION_NAME+VS_NAME+\"-pool created\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(PARTITION_NAME+VS_NAME+\"-pool exists\", function () {",
											"        pm.response.to.have.status(409);",
											"    });",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\":\"{{PARTITION_NAME}}-{{VS3_NAME}}-pool\",\n\t\"members\":[\n\t\t{\n\t\t\"name\":\"{{IIS_ADDRESS1}}:443\",\n\t\t\"address\":\"{{IIS_ADDRESS1}}\",\n\t\t\"monitor\": \"/Common/tcp\"\n\t\t\t\n\t\t}\n\t\t]\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/pool/",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"pool",
										""
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Pool-sp1.acme.com",
					"item": [
						{
							"name": "bigip-create-node",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "203c0ed0-2190-4271-9cea-91afeab5cd52",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "bec981a0-4042-4e25-bd89-3226d282a5e7",
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"IIS_ADDRESS2\");",
											"  ",
											"if (responseCode.code === 200) {",
											"    pm.test(\"Node \"+ADDR+\" Created\", function () {",
											"    pm.response.to.have.status(200);",
											"    });",
											"} else  {",
											"    pm.test(\"Node \"+ADDR+\" Exists\", function () {",
											"    pm.response.to.have.status(409);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\"name\": \"{{IIS_ADDRESS2}}\",\r\n\"address\": \"{{IIS_ADDRESS2}}\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"node"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-iis-pool",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e7122f10-28ca-45e2-bc65-1a262ad5589b",
										"exec": [
											"var PARTITION_NAME = pm.collectionVariables.get(\"PARTITION_NAME\");",
											"var VS_NAME = pm.collectionVariables.get(\"VS4_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(PARTITION_NAME+VS_NAME+\"-pool created\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(PARTITION_NAME+VS_NAME+\"-pool exists\", function () {",
											"        pm.response.to.have.status(409);",
											"    });",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\":\"{{PARTITION_NAME}}-{{VS4_NAME}}-pool\",\n\t\"members\":[\n\t\t{\n\t\t\"name\":\"{{IIS_ADDRESS2}}:443\",\n\t\t\"address\":\"{{IIS_ADDRESS2}}\",\n\t\t\"monitor\": \"/Common/tcp\"\n\t\t\t\n\t\t}\n\t\t]\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/pool/",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"pool",
										""
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End LTM Objects",
					"item": [
						{
							"name": "end-ltm-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "45096b67-7e6e-4d01-ac97-a8697b3a8458",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1b6c9163-8c1d-45bf-b718-7e5cca4bac39",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6d402f8c-0e59-4169-abfb-7064b8cf8e4e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0bbdd5b3-47fd-47c0-a29e-573a94417f12",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "APM Objects",
			"item": [
				{
					"name": "start APM objects",
					"item": [
						{
							"name": "start-apm-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "045a351c-2787-4454-8f62-12c531491c52",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    pm.test(\"Creating APM objects for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else if (VS<=VS_COUNTER) {\r",
											"    pm.test(\"Proceeding to creation of  Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-apm-\"+VS);\r",
											"} else {\r",
											"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-apm-\"+VS);\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ae223cc9-06d7-4452-87d8-9e5a682c3596",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Webtop",
					"item": [
						{
							"name": "Portal",
							"item": [
								{
									"name": "bigip-create-customization group-webtop",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "50310768-e212-4baf-b07d-070bc2bd0b9f",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"\r",
													"    pm.test(\"Customzistion Group \"+VS_NAME+\"-webtop created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else \r",
													"    pm.test(\"Customization Group \"+VS_NAME+\"-webtop exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-webtop_customization\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"webtop\"\r\n\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-webtop",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "011bdcc6-8382-4f72-b03d-3fc5734da039",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"",
													"    pm.test(VS_NAME+\"-webtop created\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"} else ",
													"    pm.test(VS_NAME+\"-webtop exists\", function () {",
													"        pm.response.to.have.status(409);",
													"    });",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "538a367b-6bb2-4a4e-a3c6-b640101a1a09",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-webtop\",\r\n    \"customizationGroup\": \"/Common/{{VS_NAME}}-webtop_customization\",\r\n    \"webtopType\": \"full\",\r\n    \"minimizeToTray\": \"false\",\r\n    \"showSearch\": \"false\",\r\n    \"warnWhenClosed\": \"true\",\r\n    \"showUrlEntryField\" : \"false\"\r\n \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/webtop",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"resource",
												"webtop"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "BIGIP SAML SP",
					"item": [
						{
							"name": "BIGIP IDP - sp.acme.com",
							"item": [
								{
									"name": "bigip-create-idp-connector",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d0d5539a-7cc6-4147-ac9b-e73159358e6e",
												"exec": [
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"IDP Connector created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else \r",
													"    pm.test(\"IDP Connector exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-sso1\",\r\n    \"partition\": \"Common\",\r\n    \"artifactResolutionServiceAddr\": \"any6\",\r\n    \"artifactResolutionServicePort\": 0,\r\n    \"entityId\": \"https://{{DNS1_NAME}}\",\r\n    \"identityLocation\": \"subject\",\r\n    \"idpCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"locationSpecific\": \"false\",\r\n    \"signArtifactResolutionRq\": \"false\",\r\n    \"signatureType\": \"rsa-sha256\",\r\n    \"singleLogoutBinding\": \"http-post\",\r\n    \"singleLogoutResponseUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/post/slr\",\r\n    \"singleLogoutUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/post/sls\",\r\n    \"ssoBinding\": \"http-post\",\r\n    \"ssoUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/redirectorpost/sso\",\r\n    \"wantAuthnRequestSigned\": \"false\",\r\n    \"wantDetachedSignature\": \"false\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml-idp-connector/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml-idp-connector",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-sp-service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "423fccf5-8c31-48bd-883c-187260365523",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
													"\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{DNS3_NAME}}-sp\",\r\n    \"partition\": \"Common\",\r\n    \"assertionConsumerBinding\": \"http-post\",\r\n    \"authContextComparisonMethod\": \"exact\",\r\n    \"entityId\": \"https://{{DNS3_NAME}}\",\r\n    \"forceAuthn\": \"false\",\r\n    \"locationSpecific\": \"false\",\r\n    \"nameIdPolicyAllowCreate\": \"true\",\r\n    \"spHost\": \"{{DNS3_NAME}}\",\r\n    \"spScheme\": \"https\",\r\n    \"wantAssertionEncrypted\": \"false\",\r\n    \"wantAssertionSigned\": \"true\",\r\n    \"isAuthnRequestSigned\": \"true\",\r\n    \"spCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"spSignkey\": \"/Common/acme.com-wildcard\",\r\n    \"idpConnectors\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-sso1\",\r\n            \"partition\": \"Common\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "BIGIP IDP - sp1.acme.com",
							"item": [
								{
									"name": "bigip-create-idp-connector",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "da4ae49c-9eeb-4bcc-972b-ffdde8710d54",
												"exec": [
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"IDP Connector created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else \r",
													"    pm.test(\"IDP Connector exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-sso2\",\r\n    \"partition\": \"Common\",\r\n    \"artifactResolutionServiceAddr\": \"any6\",\r\n    \"artifactResolutionServicePort\": 0,\r\n    \"entityId\": \"https://{{DNS1_NAME}}\",\r\n    \"identityLocation\": \"subject\",\r\n    \"idpCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"locationSpecific\": \"false\",\r\n    \"signArtifactResolutionRq\": \"false\",\r\n    \"signatureType\": \"rsa-sha256\",\r\n    \"singleLogoutBinding\": \"http-post\",\r\n    \"singleLogoutResponseUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/post/slr\",\r\n    \"singleLogoutUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/post/sls\",\r\n    \"ssoBinding\": \"http-post\",\r\n    \"ssoUri\": \"https://{{DNS1_NAME}}/saml/idp/profile/redirectorpost/sso\",\r\n    \"wantAuthnRequestSigned\": \"false\",\r\n    \"wantDetachedSignature\": \"false\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml-idp-connector/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml-idp-connector",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-sp-service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7ec363bc-af55-4881-82f7-f1eb87f9835f",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
													"\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{DNS4_NAME}}-sp\",\r\n    \"partition\": \"Common\",\r\n    \"assertionConsumerBinding\": \"http-post\",\r\n    \"authContextComparisonMethod\": \"exact\",\r\n    \"entityId\": \"https://{{DNS4_NAME}}\",\r\n    \"forceAuthn\": \"false\",\r\n    \"locationSpecific\": \"false\",\r\n    \"nameIdPolicyAllowCreate\": \"true\",\r\n    \"spHost\": \"{{DNS4_NAME}}\",\r\n    \"spScheme\": \"https\",\r\n    \"wantAssertionEncrypted\": \"false\",\r\n    \"wantAssertionSigned\": \"true\",\r\n    \"isAuthnRequestSigned\": \"true\",\r\n    \"spCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"spSignkey\": \"/Common/acme.com-wildcard\",\r\n    \"idpConnectors\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-sso2\",\r\n            \"partition\": \"Common\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "AzureAD IDP- portal.acme.com",
							"item": [
								{
									"name": "bigip-import-cert-idp",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e416526c-6539-4e24-b515-68b97b3446f6",
												"exec": [
													"pm.test(\"Azure IDP Certificate imported\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "41b80efc-c888-4c69-9981-e3125059eebd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/octet-stream"
											},
											{
												"key": "Content-Range",
												"type": "text",
												"value": "0-1089/1090"
											},
											{
												"key": "Content-Length",
												"type": "text",
												"value": "1090"
											},
											{
												"key": "Connection",
												"type": "text",
												"value": "Keep-alive"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "-----BEGIN CERTIFICATE-----\r\nMIIC8DCCAdigAwIBAgIQe1p3lY3S5otMgg2dDg39sTANBgkqhkiG9w0BAQsFADA0MTIwMAYDVQQD\r\nEylNaWNyb3NvZnQgQXp1cmUgRmVkZXJhdGVkIFNTTyBDZXJ0aWZpY2F0ZTAeFw0yMDEwMjEyMjM0\r\nNTlaFw0yMzEwMjEyMjM0NThaMDQxMjAwBgNVBAMTKU1pY3Jvc29mdCBBenVyZSBGZWRlcmF0ZWQg\r\nU1NPIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvRzWz/WeMpye\r\nZfB9QUfl/gCDVuBrtGTYbLHPdgCntkTqw7AS5Q1T0PCNyBF1sXXJ6zNQGSCAsL9Is6zZUuczpSw3\r\nVMxBmNZI9B+8ooKhJ9zPQKi2U4eu+mC92xXdcYskhB0m+Rjz/jjnsw1UIGT6NB8DaqYCOQcVPOeJ\r\n0Iy0x+jupAg0kyhm9j4KvMaz/9e+Xo4Hvf1TPRrnyxfXrCCkicUHQl47BykLvMbGhxJhlnro+3pu\r\nqibwFVNc6uh3N8oXHKJNJb8/maAKxu2EPducnr6j0ugKbz44JNbE4sBALenNnCIvtY3NILzwKgfc\r\nlXmjyWQyf+hlPKaHYubv/m+gUQIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQAj8J/FR+z2Ypaytqt7\r\njCLZTWr2YfgnSLFGVC621t4m/tLkoOBl7qOybcDERYAqyD+ihXdoVG52vYj8N75C3sqccpOSRBdq\r\nveANM1qQOVHNC4uquPyj3Bwd84+wu1zyzMRbcMP+EAKhsBsN9Fqk3FByO9UG2GMj2z9mfIdsrCKy\r\nUTsUIshS3tdiJOhcMa8TTZKov9FYDyZWv6q0MN3CeLrGNrgHoJ83qGIaiDigd3arAsKmNbsIOkJJ\r\n+fwQI7s7M/Ysd3NAyPVEnn3tx3Ur6jJDdRfNNoyvQ7AZNcY7AMVqeWd6Z1tSWNAUnW0SmeKYXmQw\r\nzqRMDznX6lYkesftz1Nn\r\n-----END CERTIFICATE-----\r\n\r\n"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/file-transfer/uploads/{{VS_NAME}}.crt",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"file-transfer",
												"uploads",
												"{{VS_NAME}}.crt"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-install-cert-idp",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ad867864-7b48-49b6-babd-293eb223e0ce",
												"exec": [
													"pm.test(\"Azure IDP Certificate installed\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "",
												"disabled": true
											},
											{
												"key": "Content-Range",
												"value": "0-1321/1322",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\":\"install\",\n\t\"name\":\"{{VS_NAME}}-idp\",\n\t\"from-local-file\":\"/var/config/rest/downloads/{{VS_NAME}}.crt\"\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/sys/crypto/cert",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"sys",
												"crypto",
												"cert"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-idp connector-azuread",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7b4ba5de-f811-4c95-b73f-009082a1de51",
												"exec": [
													"if (responseCode.code === 200) {\r",
													"pm.test(\"AzureAD SAML IDP Connector created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"AzureAD SAML IDP Connector exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													"\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-sso3\",\r\n    \"partition\": \"Common\",\r\n    \"artifactResolutionServiceAddr\": \"any6\",\r\n    \"artifactResolutionServicePort\": 0,\r\n    \"entityId\": \"https://sts.windows.net/8807dced-9637-4205-a520-423077750c60/\",\r\n    \"identityLocation\": \"subject\",\r\n    \"idpCertificate\": \"/Common/{{VS_NAME}}-idp\",\r\n    \"locationSpecific\": \"false\",\r\n    \"signArtifactResolutionRq\": \"false\",\r\n    \"signatureType\": \"rsa-sha256\",\r\n    \"singleLogoutBinding\": \"http-redirect\",\r\n    \"singleLogoutResponseUri\": \"https://login.microsoftonline.com/8807dced-9637-4205-a520-423077750c60/saml2\",\r\n    \"singleLogoutUri\": \"https://login.microsoftonline.com/8807dced-9637-4205-a520-423077750c60/saml2\",\r\n    \"ssoBinding\": \"http-redirect\",\r\n    \"ssoUri\": \"https://login.microsoftonline.com/8807dced-9637-4205-a520-423077750c60/saml2\",\r\n    \"wantAuthnRequestSigned\": \"false\",\r\n    \"wantDetachedSignature\": \"false\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml-idp-connector/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml-idp-connector",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-sp service-bigip",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d44f4b55-2cce-46f7-8a33-a539c28f763e",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS1_NAME\");\r",
													"\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"SAML SP \"+DNS_NAME+\"-sp exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{DNS_NAME}}-sp\",\r\n    \"partition\": \"Common\",\r\n    \"assertionConsumerBinding\": \"http-post\",\r\n    \"authContextComparisonMethod\": \"exact\",\r\n    \"entityId\": \"https://{{DNS_NAME}}\",\r\n    \"forceAuthn\": \"false\",\r\n    \"isAuthnRequestSigned\": \"false\",\r\n    \"locationSpecific\": \"false\",\r\n    \"nameIdPolicyAllowCreate\": \"true\",\r\n    \"spHost\": \"{{DNS_NAME}}\",\r\n    \"spScheme\": \"https\",\r\n    \"wantAssertionEncrypted\": \"false\",\r\n    \"wantAssertionSigned\": \"true\",\r\n    \"idpConnectors\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-sso3\",\r\n            \"partition\": \"Common\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/saml/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"saml",
												""
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "6648b5b3-ff03-403e-b6e7-0da47d5094f9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2ff04f82-e4a6-4cdc-94f5-aaa6b7442210",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "BIGIP SAML IDP",
					"item": [
						{
							"name": "sp - bigip",
							"item": [
								{
									"name": "bigip-create-sp  connector-bigip",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "274348b3-d15c-4005-807f-26d38b425c58",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7901f18d-0d11-4122-9a0c-7c56d9d50231",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"pm.test(\"SAML SP connector \"+DNS_NAME+\"-sp created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"SAML SP connector \"+DNS_NAME+\"-sp exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{DNS3_NAME}}-sp\",\r\n    \"partition\": \"Common\",\r\n    \"encryptionType\": \"aes128\",\r\n    \"entityId\": \"https://{{DNS3_NAME}}\",\r\n    \"isAuthnRequestSigned\": \"true\",\r\n    \"locationSpecific\": \"false\",\r\n    \"signatureType\": \"rsa-sha256\",\r\n    \"singleLogoutBinding\": \"http-post\",\r\n    \"singleLogoutResponseUri\": \"https://{{DNS3_NAME}}/saml/sp/profile/post/slr\",\r\n    \"singleLogoutUri\": \"https://{{DNS3_NAME}}/saml/sp/profile/post/sls\",\r\n    \"singleLogoutUriHost\": \"{{DNS3_NAME}}\",\r\n    \"singleLogoutUriPath\": \"/saml/sp/profile/post/sls\",\r\n    \"spCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"spLocation\": \"external\",\r\n    \"wantAssertionEncrypted\": \"false\",\r\n    \"wantAssertionSigned\": \"true\",\r\n    \"wantResponseSigned\": \"true\",\r\n    \"assertionConsumerServices\": [\r\n        {\r\n            \"binding\": \"http-post\",\r\n            \"index\": 0,\r\n            \"isDefault\": \"true\",\r\n            \"uri\": \"https://{{DNS3_NAME}}/saml/sp/profile/post/acs\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/sso/saml-sp-connector/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"sso",
												"saml-sp-connector",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "sp1- bigip",
							"item": [
								{
									"name": "bigip-create-sp  connector-bigip",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e8625d41-57ea-4496-b5d0-b876a1a10f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7a1e5562-5c15-4152-a4cc-0d64752be61b",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS4_NAME\");\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"pm.test(\"SAML SP connector \"+DNS_NAME+\"-sp created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"} else \r",
													"pm.test(\"SAML SP connector \"+DNS_NAME+\"-sp exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{DNS4_NAME}}-sp\",\r\n    \"partition\": \"Common\",\r\n    \"encryptionType\": \"aes128\",\r\n    \"entityId\": \"https://{{DNS4_NAME}}\",\r\n    \"isAuthnRequestSigned\": \"true\",\r\n    \"locationSpecific\": \"false\",\r\n    \"signatureType\": \"rsa-sha256\",\r\n    \"singleLogoutBinding\": \"http-post\",\r\n    \"singleLogoutResponseUri\": \"https://{{DNS4_NAME}}/saml/sp/profile/post/slr\",\r\n    \"singleLogoutUri\": \"https://{{DNS4_NAME}}/saml/sp/profile/post/sls\",\r\n    \"singleLogoutUriHost\": \"{{DNS4_NAME}}\",\r\n    \"singleLogoutUriPath\": \"/saml/sp/profile/post/sls\",\r\n    \"spCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"spLocation\": \"external\",\r\n    \"wantAssertionEncrypted\": \"false\",\r\n    \"wantAssertionSigned\": \"true\",\r\n    \"wantResponseSigned\": \"true\",\r\n    \"assertionConsumerServices\": [\r\n        {\r\n            \"binding\": \"http-post\",\r\n            \"index\": 0,\r\n            \"isDefault\": \"true\",\r\n            \"uri\": \"https://{{DNS4_NAME}}/saml/sp/profile/post/acs\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/sso/saml-sp-connector/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"sso",
												"saml-sp-connector",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "IDP Service",
							"item": [
								{
									"name": "bigip-create-idp  service-bigip",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7cd766fc-7bd8-4da4-b802-0dfa6dfc0a09",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"IDP Service \"+VS_NAME+\"-sso created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 400) {\r",
													"    pm.test(\"IDP Service \"+VS_NAME+\"-sso exists\", function () {\r",
													"        pm.expect(pm.response.text()).to.include(\"is already assigned to another sso\");\r",
													"    });\r",
													"} else {\r",
													"    pm.test(\"IDP Service \"+VS_NAME+\"-sso exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n \r\n    \"name\": \"{{VS_NAME}}-sso1\",\r\n    \"partition\": \"Common\",\r\n    \"assertionValidity\": 600,\r\n    \"authContextMethod\": \"urn:oasis:names:tc:SAML:2.0:nameid-format:transient\",\r\n    \"encryptSubject\": \"false\",\r\n    \"encryptionTypeSubject\": \"aes128\",\r\n    \"entityId\": \"https://{{DNS1_NAME}}\",\r\n    \"idpCertificate\": \"/Common/acme.com-wildcard\",\r\n    \"idpHost\": \"{{DNS1_NAME}}\",\r\n    \"idpScheme\": \"https\",\r\n    \"idpSignkey\": \"/Common/acme.com-wildcard\",\r\n    \"keyTransportAlgorithm\": \"rsa-oaep\",\r\n    \"locationSpecific\": \"false\",\r\n    \"logLevel\": \"notice\",\r\n    \"samlProfiles\": [\r\n        \"web-browser-sso\"\r\n    ],\r\n    \"subjectType\": \"email-address\",\r\n    \"subjectValue\": \"%{session.saml.last.identity}\",\r\n    \"spConnectors\": [\r\n        \"/Common/{{DNS3_NAME}}-sp\"\r\n        \"/Common/{{DNS4_NAME}}-sp\"\r\n    ],\r\n    \"attributes\": [\r\n\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/sso/saml/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"sso",
												"saml",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End APM Objects",
					"item": [
						{
							"name": "end-apm-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "52784360-abf5-42f4-a6c1-8caea74436c7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "cac9a95a-8d5e-463d-b98b-6065e4146540",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "00ae789a-76f6-44d4-8128-69ad0ba07125",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "47df7e86-43bf-4fb8-8ae9-2e0796ab7f86",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Webtop Link-sp.acme.com",
					"item": [
						{
							"name": "bigip-create-customization group-resource saml",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6156b86-41b1-4c7b-a63c-2dd63e8036bc",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
											"\r",
											"\r",
											"if (responseCode.code === 200) {\r",
											"pm.test(\"Webtop Link Customization Group \"+DNS_NAME+\" created\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"} else \r",
											"pm.test(\"Webtop Link Customization Group \"+DNS_NAME+\" exists\", function () {\r",
											"    pm.response.to.have.status(409);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-F5-REST-Coordination-Id",
										"type": "text",
										"value": "{{TRANSID}}",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"{{DNS3_NAME}}_resource_webtop_link_customization\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/standard\",\r\n    \"type\": \"resource-webtop-link\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group/",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"policy",
										"customization-group",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-webtop-link",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2d1304a9-4600-430e-8b11-521532c9df9d",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
											"\r",
											"\r",
											"if (responseCode.code === 200) {\r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" created\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"} else \r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" exists\", function () {\r",
											"    pm.response.to.have.status(409);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-F5-REST-Coordination-Id",
										"type": "text",
										"value": "{{TRANSID}}",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"{{DNS3_NAME}}\",\r\n    \"partition\": \"Common\",\r\n    \"applicationUri\": \"https://{{DNS3_NAME}}\",\r\n    \"customizationGroup\": \"/Common/{{DNS3_NAME}}_resource_webtop_link_customization\",\r\n    \"linkType\": \"uri\",\r\n    \"locationSpecific\": \"false\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/webtop-link",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"resource",
										"webtop-link"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Webtop Link-sp1.acme.com",
					"item": [
						{
							"name": "bigip-create-customization group-resource saml",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8788177e-34c4-44a6-a512-e990061edb78",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS4_NAME\");\r",
											"\r",
											"\r",
											"if (responseCode.code === 200) {\r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" created\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"} else \r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" exists\", function () {\r",
											"    pm.response.to.have.status(409);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-F5-REST-Coordination-Id",
										"type": "text",
										"value": "{{TRANSID}}",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"{{DNS4_NAME}}_resource_webtop_link_customization\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/standard\",\r\n    \"type\": \"resource-webtop-link\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group/",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"policy",
										"customization-group",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-create-webtop-link",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c9b05a41-5ffa-47b0-a68a-fab16b56e3fb",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS3_NAME\");\r",
											"\r",
											"\r",
											"if (responseCode.code === 200) {\r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" created\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"} else \r",
											"pm.test(\"Webtop Link \"+DNS_NAME+\" exists\", function () {\r",
											"    pm.response.to.have.status(409);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-F5-REST-Coordination-Id",
										"type": "text",
										"value": "{{TRANSID}}",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"{{DNS4_NAME}}\",\r\n    \"partition\": \"Common\",\r\n    \"applicationUri\": \"https://{{DNS4_NAME}}\",\r\n    \"customizationGroup\": \"/Common/{{DNS4_NAME}}_resource_webtop_link_customization\",\r\n    \"linkType\": \"uri\",\r\n    \"locationSpecific\": \"false\"\r\n}"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/webtop-link",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"resource",
										"webtop-link"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "PSP-portal.acme.com",
			"item": [
				{
					"name": "start PSP",
					"item": [
						{
							"name": "start-psp-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "73de4c76-955c-4587-90f8-c45748aa64e6",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 1;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    pm.test(\"Creating APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else if (VS<=VS_COUNTER) {\r",
											"    pm.test(\"Proceeding to creation of APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-psp-\"+VS);\r",
											"} else {\r",
											"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-psp-\"+VS);\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "2e9e8357-7797-4671-aef9-8bf96e4aefee",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c5699365-b9cc-46ca-abdd-2160bfbf193c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "343eed00-813a-4fc2-9f9d-57339f5d8334",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Baseline Policy",
					"item": [
						{
							"name": "Create Transaction",
							"item": [
								{
									"name": "bigip-create transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "eba29ffc-ccd0-4b94-94e2-96340ea4cfc8",
												"exec": [
													"",
													"var jsonData = JSON.parse(responseBody);",
													"pm.collectionVariables.set(\"TRANSID\", jsonData.transId);",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bfba42c8-cae3-4591-bd53-c77233fda388",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Baseline Customization Groups",
							"item": [
								{
									"name": "bigip-create-customization group-logout",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c1e4dcb8-464f-4736-957c-d20a5141dc42",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_logout\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-eps",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d41c5212-d0f5-42e1-a065-ee56028f7416",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_eps\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"eps\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-error map",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "af7eb3c6-f754-452d-bdf2-5c20d902babf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_errormap\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"errormap\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-framework",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8b3abb73-a1b6-4540-8658-1c6e2584e7d0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n   \r\n     \"name\": \"{{VS_NAME}}-psp_framework_installation\",\r\n\t \"partition\": \"Common\",\r\n     \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n     \"type\": \"framework-installation\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-general ui",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3adbb698-e37b-486f-ab77-d720187a16d2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_general_ui\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"general-ui\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Deny Ending",
							"item": [
								{
									"name": "bigip-create-customization group-end deny",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "97029a4c-4a49-430b-a09f-06508d5a078f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-agent-deny ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4efe5543-8b5b-42e3-80db-2edea42d8ef4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\n\"partition\": \"Common\",\n\"customizationGroup\": \"/Common/{{VS_NAME}}-psp_end_deny_ag\"\n\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-deny/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-deny",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-policy item-Deny ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ff622434-b22d-4d81-98b4-da9c4883c9b3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Deny\",\r\n    \"color\": 2,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-deny\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Allow Ending",
							"item": [
								{
									"name": "bigip-create-agent-allow ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "860dfaa6-47d2-4cee-99eb-660692b0f63a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\n\"partition\": \"Common\"\n\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-allow/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-allow",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-policy item-allow ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "91a0c397-1ce0-4833-b37f-d4953ac2c556",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Allow\",\r\n    \"color\": 1,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-allow\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-item Advanced Resource Assign",
							"item": [
								{
									"name": "bigip-create-agent-adv resource assign",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9142a488-82d9-437a-beb5-ac26ab04ef95",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_full_resource_assign_ag\",\r\n    \"partition\": \"Common\",\r\n    \"type\": \"general\",\r\n    \"rules\": [\r\n        {\r\n            \"webtopLinks\": [\r\n                    \"/Common/{{DNS3_NAME}}\",\r\n                    \"/Common/{{DNS4_NAME}}\"\r\n            ],\r\n            \"webtop\": \"/Common/{{VS_NAME}}-webtop\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/resource-assign",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"resource-assign"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-policy item-adv resource assign",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3e0a9a18-e779-482d-a3d1-9aec37a6c394",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_full_resource_assign\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Advanced Resource Assign\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_full_resource_assign_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"resource-assign\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_allow\"\r\n               }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-item AAA SAML",
							"item": [
								{
									"name": "bigip1-create-agent-saml-sp",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b3ac12d7-5955-4815-966a-3afccab2e4fe",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_saml_auth_ag\",\r\n    \"partition\": \"Common\",\r\n    \"forceAuthn\": \"use-aaa-server-setting\",\r\n    \"server\": \"/Common/{{DNS_NAME}}-sp\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-saml/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"aaa-saml",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip1-create-policy item-saml-sp",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bf975bb7-86a8-41d2-8f71-e15fcdf78674",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_saml_auth\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"SAML Auth\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_saml_auth_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-saml\"\r\n\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {session.saml.last.result}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_full_resource_assign\"\r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_deny\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Start Item",
							"item": [
								{
									"name": "bigip-create-policy item-start",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2f1c127e-882d-4b57-b689-530f9c5294f4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_ent\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Start\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_saml_auth\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Policy",
							"item": [
								{
									"name": "bigip-create-policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "22a73126-b182-455b-a7dc-59b5230e9fba",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"defaultEnding\": \"{{VS_NAME}}-psp_end_deny\",\r\n        \"maxMacroLoopCount\": 1,\r\n    \"oneshotMacro\": \"false\",\r\n    \"startItem\": \"{{VS_NAME}}-psp_ent\",\r\n    \"type\": \"access-policy\",\r\n    \"items\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_full_resource_assign\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_saml_auth\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_ent\",\r\n            \"partition\": \"Common\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"access-policy",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Profile",
							"item": [
								{
									"name": "profile-sso",
									"item": [
										{
											"name": "bigip-create-profile",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "7dc36431-3cf6-4820-bf95-c37357d758f3",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"acceptLanguages\": [\r\n        \"en\"\r\n    ],\r\n    \"accessPolicy\": \"/Common/{{VS_NAME}}-psp\",\r\n      \"customizationGroup\": \"/Common/{{VS_NAME}}-psp_logout\",\r\n    \"epsGroup\": \"/Common/{{VS_NAME}}-psp_eps\",\r\n    \"errormapGroup\": \"/Common/{{VS_NAME}}-psp_errormap\",\r\n    \"frameworkInstallationGroup\": \"/Common/{{VS_NAME}}-psp_framework_installation\",\r\n    \"generalUiGroup\": \"/Common/{{VS_NAME}}-psp_general_ui\",\r\n    \"ssoName\": \"/Common/{{VS_NAME}}-sso1\",\r\n    \"accessPolicyTimeout\": 300,\r\n    \"defaultLanguage\": \"en\",\r\n     \"httponlyCookie\": \"false\",\r\n    \"inactivityTimeout\": 900,\r\n    \"logoutUriTimeout\": 5,\r\n    \"maxConcurrentSessions\": 0,\r\n    \"maxConcurrentUsers\": 0,\r\n    \"maxFailureDelay\": 5,\r\n    \"maxInProgressSessions\": 128,\r\n    \"maxSessionTimeout\": 604800,\r\n    \"minFailureDelay\": 2,\r\n    \"modifiedSinceLastPolicySync\": \"false\",\r\n    \"persistentCookie\": \"false\",\r\n    \"restrictToSingleClientIp\": \"false\",\r\n    \"scope\": \"profile\",\r\n    \"secureCookie\": \"true\",\r\n    \"type\": \"all\",\r\n    \"useHttp_503OnError\": \"false\",\r\n    \"userIdentityMethod\": \"http\",\r\n    \"logSettings\": [\r\n        \"/Common/default-log-setting\"\r\n    ]\r\n\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"profile",
														"access",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Commit Transaction",
							"item": [
								{
									"name": "bigip-commit-transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5843df12-d8b8-4737-a01b-3ccb9685ff3a",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"if (responseCode.code === 409) {\r",
													"pm.test(\"Profile \"+VS_NAME+\" Exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													"} else \r",
													"pm.test(\"Profile \"+VS_NAME+\" Created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n \"state\":\"VALIDATING\"\t\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction/{{TRANSID}}/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction",
												"{{TRANSID}}",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Apply Policy",
							"item": [
								{
									"name": "bigip-apply policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ada4b4b6-48e1-4a2a-89fb-51e0f331b63a",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"\r",
													"pm.test(\"Apply Policy Successful for \" +VS_NAME+\"-psp\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PATCH",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n \"generationAction\": \"increment\"   \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~Common~{{VS_NAME}}-psp",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"profile",
												"access",
												"~Common~{{VS_NAME}}-psp"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End PSP",
					"item": [
						{
							"name": "end-psp-1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3f726cfe-afdd-43d2-b913-a167b5750b3e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c641f792-7053-4169-bddf-fea5531509fb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c8e8eb47-4ece-44fa-8456-9fba33ed5b69",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "80bfaec1-9d81-47bd-9d28-60e913f5af16",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "PSP-IAP",
			"item": [
				{
					"name": "start PSP",
					"item": [
						{
							"name": "start-psp-2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d92c2b8c-ace0-4423-98ec-69e31c34545d",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 2;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    pm.test(\"Creating APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else if (VS<=VS_COUNTER) {\r",
											"    pm.test(\"Proceeding to creation of APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-psp-\"+VS);\r",
											"} else {\r",
											"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-psp-\"+VS);\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "33900ba1-b45c-4c97-a12d-9c5dfc61e996",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2cba87cb-5a70-453e-a73a-6f7342651fa5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "28e226d4-3508-41f8-8afd-bf9a63e0342e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Baseline Policy",
					"item": [
						{
							"name": "Create Transaction",
							"item": [
								{
									"name": "bigip-create transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "74699a3a-37b7-4d41-bde2-52c7e73dc95e",
												"exec": [
													"",
													"var jsonData = JSON.parse(responseBody);",
													"pm.collectionVariables.set(\"TRANSID\", jsonData.transId);",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "deb03b50-79b2-4bdb-90a0-4903da2e15cf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Baseline Customization Groups",
							"item": [
								{
									"name": "bigip-create-customization group-logout",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "543b3b21-dde6-4c37-a52c-d071901ea463",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_logout\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-eps",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "924ee780-c5e1-49df-98e7-8d65c90da125",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_eps\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"eps\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-error map",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1939844f-1808-4f92-8ea4-a629339d4abc",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_errormap\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"errormap\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-framework",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "476f8d02-d227-464d-91b4-a6aa0b9e1d98",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n   \r\n     \"name\": \"{{VS_NAME}}-psp_framework_installation\",\r\n\t \"partition\": \"Common\",\r\n     \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n     \"type\": \"framework-installation\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-general ui",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f0e39a87-4e49-41c0-a754-f0c9f5bdc795",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_general_ui\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"general-ui\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Deny Ending",
							"item": [
								{
									"name": "bigip-create-customization group-end deny",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b9612f33-ab29-4b41-ada3-b04474c29afc",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-agent-deny ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bd5dfeaf-72ce-4365-98ac-25e23e63ea56",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\n\"partition\": \"Common\",\n\"customizationGroup\": \"/Common/{{VS_NAME}}-psp_end_deny_ag\"\n\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-deny/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-deny",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-policy item-Deny ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1dab3e2c-a872-478e-9e0c-2caf9564b6ba",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Deny\",\r\n    \"color\": 2,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-deny\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Allow Ending",
							"item": [
								{
									"name": "bigip-create-agent-allow ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1bb1dd06-d32b-42e1-ab6a-047fb0c04fe8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\n\"partition\": \"Common\"\n\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-allow/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-allow",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-policy item-allow ending",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "19e99e4d-3e27-4f47-bfbe-fa01daaf8a6a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Allow\",\r\n    \"color\": 1,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-allow\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Start Item",
							"item": [
								{
									"name": "bigip-create-policy item-start",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c051a694-c767-431b-ab5f-6e8a5c0b5783",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_ent\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Start\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_allow\"\r\n\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Policy",
							"item": [
								{
									"name": "bigip-create-policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6d472e94-f087-4348-abd7-4fb4e8591233",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"defaultEnding\": \"{{VS_NAME}}-psp_end_deny\",\r\n        \"maxMacroLoopCount\": 1,\r\n    \"oneshotMacro\": \"false\",\r\n    \"startItem\": \"{{VS_NAME}}-psp_ent\",\r\n    \"type\": \"access-policy\",\r\n    \"items\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_ent\",\r\n            \"partition\": \"Common\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"access-policy",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Profile",
							"item": [
								{
									"name": "profile-no sso",
									"item": [
										{
											"name": "bigip-create-profile",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "1543ab79-a7e1-4ad3-9908-d87727f45e81",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"acceptLanguages\": [\r\n        \"en\"\r\n    ],\r\n    \"accessPolicy\": \"/Common/{{VS_NAME}}-psp\",\r\n      \"customizationGroup\": \"/Common/{{VS_NAME}}-psp_logout\",\r\n    \"epsGroup\": \"/Common/{{VS_NAME}}-psp_eps\",\r\n    \"errormapGroup\": \"/Common/{{VS_NAME}}-psp_errormap\",\r\n    \"frameworkInstallationGroup\": \"/Common/{{VS_NAME}}-psp_framework_installation\",\r\n    \"generalUiGroup\": \"/Common/{{VS_NAME}}-psp_general_ui\",\r\n    \"accessPolicyTimeout\": 300,\r\n    \"defaultLanguage\": \"en\",\r\n     \"httponlyCookie\": \"false\",\r\n    \"inactivityTimeout\": 900,\r\n    \"logoutUriTimeout\": 5,\r\n    \"maxConcurrentSessions\": 0,\r\n    \"maxConcurrentUsers\": 0,\r\n    \"maxFailureDelay\": 5,\r\n    \"maxInProgressSessions\": 128,\r\n    \"maxSessionTimeout\": 604800,\r\n    \"minFailureDelay\": 2,\r\n    \"modifiedSinceLastPolicySync\": \"false\",\r\n    \"persistentCookie\": \"false\",\r\n    \"restrictToSingleClientIp\": \"false\",\r\n    \"scope\": \"profile\",\r\n    \"secureCookie\": \"true\",\r\n    \"type\": \"all\",\r\n    \"useHttp_503OnError\": \"false\",\r\n    \"userIdentityMethod\": \"http\",\r\n    \"logSettings\": [\r\n        \"/Common/default-log-setting\"\r\n    ]\r\n\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"profile",
														"access",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Commit Transaction",
							"item": [
								{
									"name": "bigip-commit-transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "35e612a9-908a-43f8-91ce-a261b60be7c9",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"if (responseCode.code === 409) {\r",
													"pm.test(\"Profile \"+VS_NAME+\" Exists\", function () {\r",
													"    pm.response.to.have.status(409);\r",
													"});\r",
													"} else \r",
													"pm.test(\"Profile \"+VS_NAME+\" Created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n \"state\":\"VALIDATING\"\t\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction/{{TRANSID}}/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction",
												"{{TRANSID}}",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Apply Policy",
							"item": [
								{
									"name": "bigip-apply policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a485b8a2-64c4-4780-9783-d7113c4a77aa",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"\r",
													"pm.test(\"Apply Policy Successful for \" +VS_NAME+\"-psp\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PATCH",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n \"generationAction\": \"increment\"   \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~Common~{{VS_NAME}}-psp",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"profile",
												"access",
												"~Common~{{VS_NAME}}-psp"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End PSP",
					"item": [
						{
							"name": "end-psp-2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2f5dc60f-e3cc-4f02-8b2b-e7ef29c3a96f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f378eb6a-98c6-4b08-aa04-ec791ab2cb2d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "05f73ba6-6b9e-4727-a978-0e86c1db2ddc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "8eecfbfb-780e-406a-8a70-71a0c0d472e4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "329b34a8-5914-4bd5-b86d-06cedb855cc3",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ef3c5c91-c500-4912-984b-60a4702f1bf2",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "PRP-IAP",
			"item": [
				{
					"name": "start PRP",
					"item": [
						{
							"name": "start-prp-2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5fb3f323-fdc9-4bc1-8441-74355175470a",
										"exec": [
											"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
											"var VS = 2;\r",
											"\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"if (VS === VS_COUNTER) {\r",
											"    pm.test(\"Creating APM PRP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else if (VS<=VS_COUNTER) {\r",
											"    pm.test(\"Proceeding to creation of APM PRP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-prp-\"+VS);\r",
											"} else {\r",
											"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"end-prp-\"+VS);\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9fbee76b-8604-4977-a5d0-415ee9302afe",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e40d92d5-03f9-4daf-be45-53b4851b3092",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2f753746-61aa-4c84-98a8-385293318719",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "baseline Policy",
					"item": [
						{
							"name": "Create Transaction",
							"item": [
								{
									"name": "bigip-create transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f0c82004-f2c8-40e8-8746-3ecfc8e3e4f0",
												"exec": [
													"",
													"var jsonData = JSON.parse(responseBody);",
													"pm.collectionVariables.set(\"TRANSID\", jsonData.transId);",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6cbeb5d1-db70-4342-aa4c-cebe719acf63",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Baseline Customization Groups ",
							"item": [
								{
									"name": "bigip-create-customization group-logout",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "54815388-137b-4914-b507-1cc35dc3e497",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_logout\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-eps",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c049f864-3e1a-4d23-bf76-a59273fa338f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-prp_eps\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"eps\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-error map",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09ec0497-34ff-4910-9e74-8a5c10f98d6e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-prp_errormap\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"errormap\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-framework",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ac4ad62b-8491-4410-a0f7-f401ca13fe58",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n   \r\n     \"name\": \"{{VS_NAME}}-prp_framework_installation\",\r\n\t \"partition\": \"Common\",\r\n     \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n     \"type\": \"framework-installation\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-customization group-general ui",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7127bc3e-f58f-453c-ab6b-e23aa9f80f6a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-prp_general_ui\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"general-ui\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "b4027f75-4cdb-4166-ac91-cfef84777f0d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3cd7ed7d-3192-49ba-8055-af5c7f41ac3c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item Allow Ending",
							"item": [
								{
									"name": "create-agent-allow ending",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \r\n    \"name\": \"{{VS_NAME}}-prp_end_allow_ag\",\r\n    \"partition\": \"Common\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-allow",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-allow"
											]
										}
									},
									"response": []
								},
								{
									"name": "create-policy item-allow ending",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \r\n    \"name\": \"{{VS_NAME}}-prp_end_allow\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Allow\",\r\n    \"color\": 1,\r\n    \"itemType\": \"ending\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_end_allow_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"ending-allow\"\r\n            \r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item Reject Ending",
							"item": [
								{
									"name": "create-agent-reject ending",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-prp_end_reject_ag\",\r\n    \"partition\": \"Common\"\r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-reject/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"ending-reject",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "create-policy item-reject ending",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_end_reject\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Reject\",\r\n    \"color\": 2,\r\n    \"itemType\": \"ending\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_end_reject_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"ending-reject\"\r\n            \r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item Pool Assign-sp",
							"item": [
								{
									"name": "create-agent-pool assign",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_pool_assign_ag\",\r\n    \"partition\": \"Common\",\r\n    \"type\": \"pool\",\r\n    \"rules\": [\r\n        {\r\n            \"pool\": \"/Common/{{PARTITION_NAME}}-{{VS3_NAME}}-pool\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/resource-assign/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"resource-assign",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "create-policy item-pool assign",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_pool_assign\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"{{VS3_NAME}}_pool\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_pool_assign_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"resource-assign\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_end_allow\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item Pool Assign-sp1",
							"item": [
								{
									"name": "create-agent-pool assign",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_pool_assign_ag_1\",\r\n    \"partition\": \"Common\",\r\n    \"type\": \"pool\",\r\n    \"rules\": [\r\n        {\r\n            \"pool\": \"/Common/{{PARTITION_NAME}}-{{VS4_NAME}}-pool\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/resource-assign/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"resource-assign",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "create-policy item-pool assign",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_pool_assign_1\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"{{VS4_NAME}}_pool\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_pool_assign_ag_1\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"resource-assign\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_end_allow\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item macro-saml sp",
							"item": [
								{
									"name": "Policy-Item Fail",
									"item": [
										{
											"name": "Create-policy item-fail",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS3_NAME}}-prp_ter_fail\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Fail\",\r\n    \"color\": 2,\r\n    \"itemType\": \"terminal-out\",\r\n    \"loop\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item Success",
									"item": [
										{
											"name": "Create-policy item-Success",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS3_NAME}}-prp_ter_success\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Success\",\r\n    \"color\": 1,\r\n    \"itemType\": \"terminal-out\",\r\n    \"loop\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item SAML Auth",
									"item": [
										{
											"name": "Create-agent-aaa-saml",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS3_NAME}}-prp_act_saml_auth_subsession_ag\",\r\n    \"partition\": \"Common\",\r\n    \"forceAuthn\": \"use-aaa-server-setting\",\r\n    \"server\": \"/Common/{{DNS3_NAME}}-sp\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-saml",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"aaa-saml"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create-policy item-aaa-saml",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS3_NAME}}-prp_act_saml_auth_subsession\",\r\n    \"partition\": \"Common\",\r\n    \"fullPath\": \"/Common/{{VS3_NAME}}-prp_act_saml_auth_subsession\",\r\n    \"caption\": \"SAML Auth\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS3_NAME}}-prp_act_saml_auth_subsession_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-saml\" \r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {subsession.saml.last.result}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS3_NAME}}-prp_ter_success\"\r\n    \r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS3_NAME}}-prp_ter_fail\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item Entry",
									"item": [
										{
											"name": "Create-policy item-entry",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS3_NAME}}-prp_ent_in\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"In\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS3_NAME}}-prp_act_saml_auth_subsession\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Subroutine",
									"item": [
										{
											"name": "Create-subroutine",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": " {\r\n\r\n            \"name\": \"{{VS3_NAME}}-prp\",\r\n            \"partition\": \"Common\",\r\n            \"caption\": \"{{VS3_NAME}}\",\r\n            \"defaultEnding\": \"/Common/{{VS3_NAME}}-prp_ter_fail\",\r\n            \"maxMacroLoopCount\": 1,\r\n            \"oneshotMacro\": \"false\",\r\n            \"startItem\": \"/Common/{{VS3_NAME}}-prp_ent_in\",\r\n            \"type\": \"subroutine\",\r\n            \"items\": [\r\n                {\r\n                    \"name\": \"{{VS3_NAME}}-prp_act_saml_auth_subsession\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 0\r\n                },\r\n                {\r\n                    \"name\": \"{{VS3_NAME}}-prp_ent_in\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 0\r\n                },\r\n                {\r\n                    \"name\": \"{{VS3_NAME}}-prp_ter_fail\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 5\r\n                },\r\n                {\r\n                    \"name\": \"{{VS3_NAME}}-prp_ter_success\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 4\r\n                }\r\n            ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"access-policy"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Macro",
									"item": [
										{
											"name": "Create-macro",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_mac_{{VS3_NAME}}\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"{{VS3_NAME}}\",\r\n    \"color\": 1,\r\n    \"itemType\": \"macro-call\",\r\n    \"loop\": \"false\",\r\n    \"macro\": \"/Common/{{VS3_NAME}}-prp\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Success\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_act_pool_assign\"\r\n        },\r\n        {\r\n            \"caption\": \"Fail\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_end_reject\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item macro-saml sp1",
							"item": [
								{
									"name": "Policy-Item Fail",
									"item": [
										{
											"name": "Create-policy item-fail",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS4_NAME}}-prp_ter_fail\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Fail\",\r\n    \"color\": 2,\r\n    \"itemType\": \"terminal-out\",\r\n    \"loop\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item Success",
									"item": [
										{
											"name": "Create-policy item-Success",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS4_NAME}}-prp_ter_success\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Success\",\r\n    \"color\": 1,\r\n    \"itemType\": \"terminal-out\",\r\n    \"loop\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item SAML Auth",
									"item": [
										{
											"name": "Create-agent-aaa-saml",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS4_NAME}}-prp_act_saml_auth_subsession_ag\",\r\n    \"partition\": \"Common\",\r\n    \"forceAuthn\": \"use-aaa-server-setting\",\r\n    \"server\": \"/Common/{{DNS4_NAME}}-sp\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-saml",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"aaa-saml"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create-policy item-aaa-saml",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS4_NAME}}-prp_act_saml_auth_subsession\",\r\n    \"partition\": \"Common\",\r\n    \"fullPath\": \"/Common/{{VS4_NAME}}-prp_act_saml_auth_subsession\",\r\n    \"caption\": \"SAML Auth\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS4_NAME}}-prp_act_saml_auth_subsession_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-saml\" \r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {subsession.saml.last.result}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS4_NAME}}-prp_ter_success\"\r\n    \r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS4_NAME}}-prp_ter_fail\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-Item Entry",
									"item": [
										{
											"name": "Create-policy item-entry",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS4_NAME}}-prp_ent_in\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"In\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS4_NAME}}-prp_act_saml_auth_subsession\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Subroutine",
									"item": [
										{
											"name": "Create-subroutine",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": " {\r\n\r\n            \"name\": \"{{VS4_NAME}}-prp\",\r\n            \"partition\": \"Common\",\r\n            \"caption\": \"{{VS4_NAME}}\",\r\n            \"defaultEnding\": \"/Common/{{VS4_NAME}}-prp_ter_fail\",\r\n            \"maxMacroLoopCount\": 1,\r\n            \"oneshotMacro\": \"false\",\r\n            \"startItem\": \"/Common/{{VS4_NAME}}-prp_ent_in\",\r\n            \"type\": \"subroutine\",\r\n            \"items\": [\r\n                {\r\n                    \"name\": \"{{VS4_NAME}}-prp_act_saml_auth_subsession\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 0\r\n                },\r\n                {\r\n                    \"name\": \"{{VS4_NAME}}-prp_ent_in\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 0\r\n                },\r\n                {\r\n                    \"name\": \"{{VS4_NAME}}-prp_ter_fail\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 5\r\n                },\r\n                {\r\n                    \"name\": \"{{VS4_NAME}}-prp_ter_success\",\r\n                    \"partition\": \"Common\",\r\n                    \"priority\": 4\r\n                }\r\n            ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"access-policy"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Macro",
									"item": [
										{
											"name": "Create-macro",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_mac_{{VS4_NAME}}\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"{{VS4_NAME}}\",\r\n    \"color\": 1,\r\n    \"itemType\": \"macro-call\",\r\n    \"loop\": \"false\",\r\n    \"macro\": \"/Common/{{VS4_NAME}}-prp\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Success\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_act_pool_assign_1\"\r\n        },\r\n        {\r\n            \"caption\": \"Fail\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_end_reject\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item URL Branching",
							"item": [
								{
									"name": "create-agent-category-lookup",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_url_branching_perrq_ag\",\r\n    \"partition\": \"Common\",\r\n    \"input\": \"http-uri\",\r\n    \"lookupType\": \"custom-only\",\r\n    \"resetOnFailure\": \"enable\",\r\n    \"safeSearch\": \"enable\",\r\n    \"type\": \"branch-only\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/category-lookup",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"agent",
												"category-lookup"
											]
										}
									},
									"response": []
								},
								{
									"name": "create-policy item-category-lookup",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp_act_url_branching_perrq\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"URL Branching\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_url_branching_perrq_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"category-lookup\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"{{DNS3_NAME}}\",\r\n            \"expression\": \"expr {[mcget {perflow.branching.url}] starts_with \\\\\\\"https://{{DNS3_NAME}}\\\\\\\"}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_mac_{{VS3_NAME}}\"    \r\n        },\r\n        {\r\n            \"caption\": \"{{DNS4_NAME}}\",\r\n            \"expression\": \"expr {[mcget {perflow.branching.url}] starts_with \\\\\\\"https://{{DNS4_NAME}}\\\\\\\"}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_mac_{{VS4_NAME}}\" \r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_end_reject\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Policy-Item Start",
							"item": [
								{
									"name": "create-policy item-start",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-prp_ent\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Start\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-prp_act_url_branching_perrq\"\r\n            \r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"policy-item",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Policy",
							"item": [
								{
									"name": "create-policy-prp",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"value": "{{TRANSID}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp\",\r\n    \"partition\": \"Common\",\r\n    \"defaultEnding\": \"/Common/{{VS_NAME}}-prp_end_reject\",\r\n    \"macros\": [\r\n        \"/Common/{{VS3_NAME}}-prp\"   \r\n        \"/Common/{{VS4_NAME}}-prp\"            \r\n    ],\r\n    \"maxMacroLoopCount\": 1,\r\n    \"oneshotMacro\": \"false\",\r\n    \"startItem\": \"/Common/{{VS_NAME}}-prp_ent\",\r\n    \"type\": \"per-rq-policy\",\r\n    \"items\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_pool_assign_1\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0  \r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_pool_assign\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0  \r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_act_url_branching_perrq\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_mac_{{VS3_NAME}}\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_mac_{{VS4_NAME}}\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_end_allow\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        \r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_end_reject\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp_ent\",\r\n            \"partition\": \"Common\",\r\n            \"priority\": 0\r\n        }\r\n    ],\r\n    \"perReqPolicyProperties\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-prp\",\r\n            \"partition\": \"Common\",\r\n            \"incompleteAction\": \"deny\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"access-policy"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create Customization Group Set",
							"item": [
								{
									"name": "create-customization group-set",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-prp\",\r\n    \"partition\": \"Common\",\r\n    \"acceptLanguages\": [\r\n        \"en\"\r\n    ],\r\n    \"accessPolicy\": \"/Common/{{VS_NAME}}-prp\",\r\n    \"customizationGroup\": \"/Common/{{VS_NAME}}-prp_logout\",\r\n    \"defaultLanguage\": \"en\",\r\n    \"epsGroup\": \"/Common/{{VS_NAME}}-prp_eps\",\t\r\n    \"errormapGroup\": \"/Common/{{VS_NAME}}-prp_errormap\",\r\n    \"frameworkInstallationGroup\": \"/Common/{{VS_NAME}}-prp_framework_installation\",\r\n    \"generalUiGroup\": \"/Common/{{VS_NAME}}-prp_general_ui\"\r\n\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group-set/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group-set",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Commit Transaction",
							"item": [
								{
									"name": "bigip1- commit transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b1576337-cc97-4d89-809e-599f80d03085",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n \"state\":\"VALIDATING\"\t\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction/{{TRANSID}}/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"transaction",
												"{{TRANSID}}",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "158b691c-32e6-48f3-9b6f-15dbd5228186",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "8b791c70-1351-4d8d-8385-e6538f70f019",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End PRP",
					"item": [
						{
							"name": "end-prp-2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "330dd882-fa61-4504-b5b8-a62c61281dcf",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "543578a4-1427-484c-9a06-214b64168428",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4495c4ef-aeac-4022-9994-0f6cde617ee1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a5e501a-71a1-442e-af4c-6b2e26e0fce8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Virtual Server Address Assignment",
			"item": [
				{
					"name": "bigip-Check Scope for existing assignment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "389fe85c-36a1-46d1-9063-8b85bbe7917e",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
									"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
									"var jsonData = pm.response.json();\r",
									"var EXIST = 0\r",
									"\r",
									"\r",
									"\r",
									"if(!jsonData.length) {\r",
									"    if ( jsonData.Description  === VS_NAME ) {\r",
									"        pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER, jsonData.IPAddress.IPAddressToString );\r",
									"        pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
									"        var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER);\r",
									"        postman.setNextRequest(\"end-address\");\r",
									"        var EXIST = 1;\r",
									"        if (responseCode.code === 200) {\r",
									"            pm.test(\"Existing Address \"+ADDR+\" assigned to \"+VS_NAME, function () {\r",
									"                pm.response.to.have.status(200);\r",
									"            });\r",
									"        }\r",
									"    }\r",
									"} else {\r",
									"\r",
									"  for (var i = 0; i < jsonData.length; i++) {\r",
									"\r",
									"        if ( jsonData[i].Description  === VS_NAME ) {   \r",
									"            pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER, jsonData[i].IPAddress.IPAddressToString );\r",
									"            pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
									"            var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER);\r",
									"            postman.setNextRequest(\"end-address\");\r",
									"            var EXIST =1;\r",
									"\r",
									"            if (responseCode.code === 200) {\r",
									"                pm.test(\"Existing Address \"+ADDR+\" assigned to \"+VS_NAME, function () {\r",
									"                    pm.response.to.have.status(200);\r",
									"                });\r",
									"            }\r",
									"        } \r",
									"    }\r",
									"} \r",
									"\r",
									"if (EXIST === 0) {\r",
									"    if (responseCode.code === 200) {\r",
									"        pm.test(\"No Address assigned to \"+VS_NAME , function () {\r",
									"            pm.response.to.have.status(200);\r",
									"        }); \r",
									"    }\r",
									"}\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "http://10.1.20.6:81/addr/scope-status?scope={{BIGIP_SCOPE}}",
							"protocol": "http",
							"host": [
								"10",
								"1",
								"20",
								"6"
							],
							"port": "81",
							"path": [
								"addr",
								"scope-status"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{BIGIP_SCOPE}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Check for next available address",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "795bdd6c-c61f-45cf-be61-4838470f2803",
								"exec": [
									"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
									"var jsonData = pm.response.json();\r",
									"\r",
									"\r",
									"pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER,jsonData.address);\r",
									"pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
									"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER)\r",
									"\r",
									"pm.test(\"Next availble address is \"+ADDR, function () {\r",
									"    pm.expect(jsonData.address).not.eql(null);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://10.1.20.6:81/addr/available?scope={{BIGIP_SCOPE}}",
							"protocol": "http",
							"host": [
								"10",
								"1",
								"20",
								"6"
							],
							"port": "81",
							"path": [
								"addr",
								"available"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{BIGIP_SCOPE}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-checkout-address",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "369d5a19-6094-4bd6-824a-4d0a86888282",
								"exec": [
									"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\");",
									"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Address \"+ADDR+\" checked out for \"+VS_NAME, function () {",
									"    pm.expect(jsonData.status).not.eql(\"Fail\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"scope\":\"{{BIGIP_SCOPE}}\",\n\"address\":\"{{BIGIP_ADDRESS}}\",\n\"name\":\"{{VS_NAME}}\"\n}"
						},
						"url": {
							"raw": "http://10.1.20.6:81/addr/checkout",
							"protocol": "http",
							"host": [
								"10",
								"1",
								"20",
								"6"
							],
							"port": "81",
							"path": [
								"addr",
								"checkout"
							]
						}
					},
					"response": []
				},
				{
					"name": "end-address",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3d8d04bf-0a6d-4ffe-a7ec-f44df95bb2d4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "67d0aa0f-96a1-4fe5-8963-ed984f5dc0b9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ac75fb18-b488-4f4c-98f2-820567dc262e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "b91b4e59-4167-4fcc-8760-9fde53c08025",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "End Loop - Imperative Calls",
			"item": [
				{
					"name": "loop-objects",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "932c1423-3c50-49d4-ac7b-20523c0be43d",
								"exec": [
									"var VIPS = pm.collectionVariables.get(\"VIPS\");",
									"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\")",
									"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\")",
									"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
									"",
									"if (VS_COUNTER < VIPS ) {",
									"    pm.test(\"Objects for Virutal Server \"+VS_NAME+\" completed.  Creating loop for next virtual server \" , function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"    VS_COUNTER++",
									"    DNS_COUNTER++",
									"",
									"pm.collectionVariables.set(\"VS_COUNTER\", VS_COUNTER)",
									"pm.collectionVariables.set(\"DNS_COUNTER\", DNS_COUNTER)",
									"",
									"postman.setNextRequest(\"start-objects\");",
									"",
									"",
									"} else {",
									"    pm.test(\"Objects for Virtual Server \"+VS_NAME+\" Ccmpleted.  All objects created\" , function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"  pm.collectionVariables.set(\"VS_COUNTER\", 1)",
									"   pm.collectionVariables.set(\"DNS_COUNTER\", 1)",
									"}",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "da058c73-a710-4265-83b3-d64a2fb94d46",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "2ba816aa-3fae-46bf-be6b-4eea27c8f6cb",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "f4a2ba87-70ea-4e94-8c21-85b96d4dbea7",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Applications",
			"item": [
				{
					"name": "Single Tenant-2 VIPS-Attach PSP&PRP",
					"item": [
						{
							"name": "bigip-create-application",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0026771c-293c-47ac-b87c-16889bfbdd45",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"\r",
											"pm.test(\"Application \"+VS_NAME+\" created\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{VS1_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS1_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP_ADDRESS1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS1_NAME}}-clientssl\",\r\n        \t\t\"snat\": \"auto\",\r\n        \t\t\"profileAccess\": {\r\n        \t\t\t\"bigip\": \"/Common/{{VS1_NAME}}-psp\"\r\n        \t\t\t}\r\n\t            },\r\n                \"{{VS1_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                }\r\n\r\n            },\r\n             \"{{VS2_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS2_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP_ADDRESS2}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS2_NAME}}-clientssl\",\r\n                \"clientTLS\": \"{{VS2_NAME}}-serverssl\",\r\n        \t\t\"snat\": \"auto\",\r\n        \t\t\"profileAccess\": {\r\n        \t\t\t\"bigip\": \"/Common/{{VS2_NAME}}-psp\"\r\n        \t\t\t}\r\n\t            },\r\n                \"{{VS2_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"{{VS2_NAME}}-serverssl\": {\r\n                \"class\": \"TLS_Client\"\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}\r\n                \r\n             \r\n          \r\n       \r\n    \r\n"
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/declare",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"declare"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-add-profile-prp",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c18d7492-e628-4524-a815-ad766ed65a26",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3821cd73-832a-4aea-8283-887bb6437fa9",
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS1_NAME\");",
											"",
											"",
											"if (responseCode.code === 200) {",
											"pm.test(\"Per-Request Policy  \"+DNS_NAME+\"-prp attached\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"} else ",
											"pm.test(\"Per-Request Policy  \"+DNS_NAME+\"-prp already attached\", function () {",
											"    pm.response.to.have.status(409);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n     \"perFlowRequestAccessPolicy\": \"/Common/{{VS2_NAME}}-prp\"\r\n}\r\n            "
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/virtual/~{{PARTITION_NAME}}~{{VS2_NAME}}~{{VS2_NAME}}",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"virtual",
										"~{{PARTITION_NAME}}~{{VS2_NAME}}~{{VS2_NAME}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "External DNS",
			"item": [
				{
					"name": "Three applications",
					"item": [
						{
							"name": "Create DC1 External DNS Configuration for SIngle App",
							"item": [
								{
									"name": "bigip5-Test AS3 is running",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "68a2eeca-5053-4818-b37e-ffcc1ecb6a7c",
												"exec": [
													"var DC2_APM = pm.environment.get(\"DC2_APM\");",
													"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
													"",
													"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
													"    postman.setNextRequest(\"end-dns-dc1\");",
													"    pm.test(\"Proceeding to DC2 DNS Configuration\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"",
													"} else {",
													"",
													"  ",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6b9cd2f1-5033-47b5-bed3-47d2549008f4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Create-DC1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8fecb417-047f-44f2-b1ac-6b16422cf417",
												"exec": [
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"DC1 Created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"DC1 Exists\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3cf93c9b-3e82-4984-972e-f1ebd3e0a07f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\":\"DC1\"\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"datacenter"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Create-bigip1 server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5387378b-4249-44d6-b866-b939fc6f356a",
												"exec": [
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"bigip1 server Created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"bigip1 server Exists\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a3fb6632-4411-4198-8f63-063f92a258a2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n            \"name\": \"bigip1.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.4\",\r\n                    \"deviceName\": \"bigip1.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Create-bigip5 server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d5d70d82-2c6c-42ec-b319-75229a1ef12c",
												"exec": [
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"bigip5 server Created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"bigip5 server Exists\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													"setTimeout(function(){}, 2000);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "806011a0-bf62-40ab-b200-01bce5dcae14",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n            \"name\": \"bigip5.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.11\",\r\n                    \"deviceName\": \"bigip5.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add application to bigip server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0e141e66-22c2-48fa-86fb-e81c5eb7ed25",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Server bigip1.f5lab.local\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip1.f5lab.local\", function () {",
													"    pm.response.to.have.status(409);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d767cefa-5109-40ad-94e7-98c5b233594d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip1.f5lab.local/virtual-servers/",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server",
												"~Common~bigip1.f5lab.local",
												"virtual-servers",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add application  to bigip server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "88a4c21b-4575-442b-8369-e64cf8faaf7b",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS2_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS2\")",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Server bigip1.f5lab.local\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip1.f5lab.local\", function () {",
													"    pm.response.to.have.status(409);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f3f9992d-563c-4642-9b18-40872a4ab582",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS2}}:443\"\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip1.f5lab.local/virtual-servers/",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server",
												"~Common~bigip1.f5lab.local",
												"virtual-servers",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Create WideIP using AS3",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8a08e0af-83db-4cd2-a565-e96ac0a32887",
												"exec": [
													"var DNS_NAME = pm.collectionVariables.get(\"DNS1_NAME\");\r",
													"\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"\r",
													"pm.test(\"Wide IP \"+DNS_NAME+\" Created\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"}\r",
													"\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "629dc836-fd65-4725-b9f4-434a67b33fed",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n \"class\": \"ADC\",\r\n    \"schemaVersion\": \"3.6.0\",\r\n    \"id\": \"GSLB_Sample\",\r\n    \"{{PARTITION_NAME}}\": {\r\n        \"class\": \"Tenant\",\r\n        \"{{VS1_NAME}}\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{DNS1_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{VS1_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{VS1_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        },\r\n         \"{{VS3_NAME}}\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{DNS3_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{VS3_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{VS3_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        },\r\n        \"{{VS4_NAME}}\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{DNS4_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{VS4_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{VS4_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        }\r\n    }\r\n \r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/shared/appsvcs/declare",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"declare"
											]
										}
									},
									"response": []
								},
								{
									"name": "end-dns-dc1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "70e907f4-62c8-4837-9309-e2fce1032a5a",
												"exec": [
													"var DC2_APM = pm.environment.get(\"DC2_APM\");",
													"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
													"",
													"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
													"   ",
													"} else {",
													"",
													"    postman.setNextRequest(\"end-dns-dc2\");",
													"    pm.collectionVariables.set('DC_COUNTER', '1' );",
													"    pm.test(\"Skipping DC2 DNS Configuration\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0f09a943-fd3b-4dcf-9901-095fafb77d38",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Add DC2 External DNS Configuration for Single App",
							"item": [
								{
									"name": "start-dns-dc2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c14cb67b-ea35-4837-bf9f-e16379afe99c",
												"exec": [
													"var DC2_APM = pm.environment.get(\"DC2_APM\");",
													"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
													"",
													"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
													"   ",
													"} else {",
													"",
													"    postman.setNextRequest(\"end-dns-dc2\");",
													"    pm.collectionVariables.set('DC_COUNTER', '1' );",
													"    pm.test(\"Skipping DC2 DNS Configuration\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ea5ebe11-13fe-4a61-8d28-37a0b9ad26f1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-exist-bigip2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "697f734d-250e-4b78-9a36-cdf5fca9947f",
												"exec": [
													"\r",
													"var jsonData = pm.response.json();\r",
													"\r",
													"    for (var i = 0; i < jsonData.items.length; i++) {\r",
													"\r",
													"        if (jsonData.items[i].name === \"bigip2.f5lab.local\") {\r",
													"            pm.test(\"BIGIP2 already exists\", function () {\r",
													"                pm.response.to.have.status(200);\r",
													"            });\r",
													"            postman.setNextRequest(\"bigip5-Add bigip2 Application VS to Server\");\r",
													"        }\r",
													"    }\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "10486154-8942-4074-80cd-0e5d16482804",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip_add - bigip2 to bigip5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "da60fac9-0aa3-4959-b6d3-2a9bbfd8c598",
												"exec": [
													"pm.test(\"bigip_add command successfully run\", function () {\r",
													"pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/bigip_add",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"bigip_add"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip2.f5lab.local - big3d_install",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "698d1e1f-e784-431d-89f1-ade88f4441ff",
												"exec": [
													"pm.test(\"big3d_install command successfully run\", function () {\r",
													"pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/big3d_install",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"big3d_install"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Create-DC2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d5f9ed66-58dc-4857-819b-f9f4b9b422ba",
												"exec": [
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"DC2 Created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"DC2 Exists\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c91c806a-bcb2-4624-a5e9-14a66344ce73",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\"name\":\"DC2\"\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"datacenter"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add Server -  BIG-IP2 to BIG-IP5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9db76c15-58ec-415f-afde-ba503e209052",
												"exec": [
													"if (responseCode.code === 200) {\r",
													"\r",
													"    pm.test(\"BIG-IP2 added\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"BIG-IP2 already Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"\r",
													"setTimeout(function(){}, 2000);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"bigip2.f5lab.local\",\n\t\"datacenter\": \"/Common/DC2\",\n\t\"virtualServerDiscovery\": \"disabled\",\n\t        \"addresses\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\":\"10.1.10.5\",\n\t\t\t\t\t\"deviceName\": \"bigip2.f5lab.local\",\n\t\t\t\t\t\"translation\": \"none\"\n\t\t\t\t}\n\t\t\t]\n\t\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add bigip2 Application VS to Server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8aeeb4b3-1d4e-4f81-9526-b31b22b218d4",
												"exec": [
													"",
													"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to server bigip2.f5lab.local\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip2.f5lab.local\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													"setTimeout(function(){},5000);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "37d88698-c86e-468a-b185-7aca4ce35df2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip2.f5lab.local/virtual-servers/",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server",
												"~Common~bigip2.f5lab.local",
												"virtual-servers",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add bigip2 Application VS to Server",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "84190827-6703-4cf2-9976-2a2620febe69",
												"exec": [
													"",
													"var VS_NAME = pm.collectionVariables.get(\"VS2_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to server bigip2.f5lab.local\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip2.f5lab.local\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													"setTimeout(function(){},5000);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9b24df01-eee8-4805-bc38-a968c8f3fdb6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS2}}:443\"\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip2.f5lab.local/virtual-servers/",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"server",
												"~Common~bigip2.f5lab.local",
												"virtual-servers",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add bigip2 application to WideIP Pool",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "05b71b89-9f8e-4136-961e-03322fc5c67d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c710b55c-0879-48c5-8234-eb26f13cb922",
												"exec": [
													"var NAME = pm.collectionVariables.get(\"DNS1_NAME\");",
													"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
													"",
													"",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\":\"bigip2.f5lab.local:/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n\t\r\n\t\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/pool/a/~{{PARTITION_NAME}}~{{VS1_NAME}}~{{VS1_NAME}}-pool/members",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"pool",
												"a",
												"~{{PARTITION_NAME}}~{{VS1_NAME}}~{{VS1_NAME}}-pool",
												"members"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add bigip2 application to WideIP Pool",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "a68a390b-b6ed-41a3-8843-890013e53f90",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "02c32794-df74-460c-846a-b7225d550302",
												"exec": [
													"var NAME = pm.collectionVariables.get(\"DNS3_NAME\");",
													"var VS_NAME = pm.collectionVariables.get(\"VS2_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS2\")",
													"",
													"",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\":\"bigip2.f5lab.local:/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\"\r\n\t\r\n\t\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/pool/a/~{{PARTITION_NAME}}~{{VS3_NAME}}~{{VS3_NAME}}-pool/members",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"pool",
												"a",
												"~{{PARTITION_NAME}}~{{VS3_NAME}}~{{VS3_NAME}}-pool",
												"members"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip5-Add bigip2 application to WideIP Pool",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "d47944d8-3038-4aad-9b3e-17e1a9aeb4a1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f45aaad3-d84c-41f4-a50c-fd9140ad5f29",
												"exec": [
													"var NAME = pm.collectionVariables.get(\"DNS4_NAME\");",
													"var VS_NAME = pm.collectionVariables.get(\"VS2_NAME\");",
													"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS2\")",
													"",
													"",
													"",
													"if (responseCode.code === 200) {",
													"",
													"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Virtual Server \"+VS_NAME+\" exists on Wide IP \"+NAME, function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\":\"bigip2.f5lab.local:/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS2_NAME}}\"\r\n\t\r\n\t\r\n}"
										},
										"url": {
											"raw": "https://10.1.1.11/mgmt/tm/gtm/pool/a/~{{PARTITION_NAME}}~{{VS4_NAME}}~{{VS4_NAME}}-pool/members",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"tm",
												"gtm",
												"pool",
												"a",
												"~{{PARTITION_NAME}}~{{VS4_NAME}}~{{VS4_NAME}}-pool",
												"members"
											]
										}
									},
									"response": []
								},
								{
									"name": "end-dns-dc2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bd4b4c70-5110-45dd-93a3-7f26a15d84b3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ab41b64c-10a4-4a2f-999f-4e3ee99e010a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"11"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "End loop Datacenters",
			"item": [
				{
					"name": "loop",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0442e92c-93b1-4cd3-a6cf-66de3442c73f",
								"exec": [
									"var DC2_APM = pm.environment.get(\"DC2_APM\");",
									"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
									"",
									"if (DC2_APM === 'true' && DC_COUNTER === '1') {",
									"    postman.setNextRequest(\"start\");",
									"    pm.collectionVariables.set('DC_COUNTER', '2' );",
									"",
									"    pm.test(\"Application created in DC1. Beginning DC2 Deployment\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"",
									"} else if (DC2_APM === 'false' && DC_COUNTER === '1') {",
									"    pm.test(\"Application created in DC1 \", function () {",
									"        pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"false\");",
									"    });",
									"",
									"} else {",
									"    pm.test(\"Application created in DC2 \", function () {",
									"        pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"true\");",
									"    });",
									"    pm.collectionVariables.set('DC_COUNTER', '1' );",
									"}",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "222b7975-0ce9-47d3-af9c-72b0cf3454a9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d39a98ce-bff7-4399-863a-0231749d53de",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "eb0a007d-1267-496f-a824-5de22d5213c8",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "ef2bc0ee-8824-403d-ad24-9553e727f86d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "16db01da-2036-4801-a77f-06ba9f4cc57c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "1397d074-a71d-4b31-979b-4fab7a6d11dd",
			"key": "CUSTOM_TYPE",
			"value": ""
		},
		{
			"id": "e243e640-8ffe-4908-8ee1-8c81e40ac90d",
			"key": "DNS1_NAME",
			"value": ""
		},
		{
			"id": "2659bd98-be29-4016-bfd5-cda406429cdf",
			"key": "DNS2_NAME",
			"value": ""
		},
		{
			"id": "d1309635-26cc-47bf-b44d-fb8193a9d341",
			"key": "PARTITION_NAME",
			"value": ""
		},
		{
			"id": "2c96e2a9-2287-4c1c-bfed-41c46ef218ba",
			"key": "PATH_NAME",
			"value": ""
		},
		{
			"id": "db1d12bf-f8be-4c6a-870c-b8d327650a4e",
			"key": "VIPS",
			"value": ""
		},
		{
			"id": "73d4009e-0d26-493a-aa31-7b0eaae5531d",
			"key": "VS1_NAME",
			"value": ""
		},
		{
			"id": "586cfe48-59fc-491e-888a-79e02cb3f3b0",
			"key": "VS2_NAME",
			"value": ""
		},
		{
			"id": "490aac17-163d-4931-8a8d-0af131f15f98",
			"key": "BIGIP_MGMT",
			"value": ""
		},
		{
			"id": "6ae758c9-a0ae-48d8-9435-e36238ecbc33",
			"key": "BIGIP_SCOPE",
			"value": ""
		},
		{
			"id": "94ad4e89-0739-45ee-ac27-4289e0591235",
			"key": "DNS_COUNTER",
			"value": ""
		},
		{
			"id": "e8da5ff2-8c45-467e-ad17-e8169839533a",
			"key": "DNS_NAME",
			"value": ""
		},
		{
			"id": "8e10b00d-bc62-4ff4-bec5-6e492b625bc1",
			"key": "VS_COUNTER",
			"value": ""
		},
		{
			"id": "cdeb1b58-3b02-4569-b575-f866387c745a",
			"key": "VS_NAME",
			"value": ""
		},
		{
			"id": "7a0be0e0-aa89-4c86-a56b-a67f55961a4f",
			"key": "DNS3_NAME",
			"value": ""
		},
		{
			"id": "9a37690a-eb67-4e9f-8e74-1879f2437e7f",
			"key": "VS3_NAME",
			"value": ""
		},
		{
			"id": "808a1847-70d9-40aa-badc-12038cd7d076",
			"key": "IIS_ADDRESS",
			"value": ""
		},
		{
			"id": "6184b3ee-73f9-4169-850e-4bad976900bf",
			"key": "IIS_ADDRESS1",
			"value": ""
		},
		{
			"id": "145967db-3687-41ed-b9c8-b57f873677e3",
			"key": "IIS_ADDRESS2",
			"value": ""
		},
		{
			"id": "0293f888-464c-4071-a177-910302a91438",
			"key": "DNS4_NAME",
			"value": ""
		},
		{
			"id": "b4408b61-bc55-49a2-bee5-fc2b04c567e0",
			"key": "VS4_NAME",
			"value": ""
		},
		{
			"id": "9fcd8f96-9c53-4dc3-b2f5-1a589d78acd1",
			"key": "TRANSID",
			"value": ""
		},
		{
			"id": "103031e7-eb7d-4d13-b76c-2047a92e71c3",
			"key": "BIGIP_ADDRESS",
			"value": ""
		},
		{
			"id": "ea731249-f396-48df-991a-e52fd93006c8",
			"key": "BIGIP_ADDRESS1",
			"value": ""
		},
		{
			"id": "8d0e2855-58eb-4b2f-bdf5-516af7a10887",
			"key": "DC_COUNTER",
			"value": ""
		},
		{
			"id": "85766949-d4c9-4ce7-9a56-39b2943d2005",
			"key": "BIGIP_ADDRESS2",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}