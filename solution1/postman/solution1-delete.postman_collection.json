{
	"info": {
		"_postman_id": "1a206b8e-2635-4326-9572-f55667864639",
		"name": "solution1-delete",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Set Collection Parameters",
			"item": [
				{
					"name": "set parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7addb68c-f3a3-4422-afda-acdfa0e13d28",
								"exec": [
									"pm.test(\"Setting Parameters\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f762bd1c-6c4b-4b2b-ae24-48aae687d3c9",
								"exec": [
									"pm.collectionVariables.set(\"DNS1_NAME\", \"solution1.acme.com\");\r",
									"pm.collectionVariables.set(\"VS1_NAME\", \"solution1\");\r",
									"pm.collectionVariables.set(\"PATH_NAME\", \"solution1\");\r",
									"pm.collectionVariables.set(\"PARTITION_NAME\", \"solution1\");\r",
									"pm.collectionVariables.set(\"CUSTOM_TYPE\", \"modern\");\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"4"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Start",
			"item": [
				{
					"name": "start",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "63d8b8ff-3b68-4541-bc55-73652eef8666",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "289f78b5-6c1e-478b-8eda-a7798a445d2e",
								"exec": [
									"var COUNTER = pm.collectionVariables.get(\"COUNTER\");\r",
									"var DC2_APM = pm.environment.get(\"DC2_APM\");\r",
									"\r",
									"\r",
									"if (DC2_APM === 'true' && COUNTER === '2') {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.5\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP2_SCOPE\"));\r",
									"\r",
									"} else {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.4\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP1_SCOPE\"));\r",
									"pm.collectionVariables.set('COUNTER', '1' );\r",
									"\r",
									"}\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "External DNS",
			"item": [
				{
					"name": "start-dns",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d88281e-1c93-4a25-83e8-245b3e839c90",
								"exec": [
									"var DC2_APM = pm.environment.get(\"DC2_APM\");",
									"var COUNTER = pm.collectionVariables.get(\"COUNTER\");",
									"",
									"if (DC2_APM === 'true' && COUNTER === '2') {",
									"    postman.setNextRequest(\"bigip5-retrieve-addres-server-vs1\");",
									"    pm.test(\"Beginning DC2 Server deletion\", function () {",
									"                pm.response.to.have.status(200);",
									"            });",
									"} ",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "62f08d16-968b-4527-86ad-82113c6eede6",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-delete-wideip1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ad6cfe14-aabf-488b-b3e8-a25d2ded225b",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "fbf62332-8083-4673-93f5-33294ded861b",
								"exec": [
									"var DNS_NAME = pm.collectionVariables.get(\"DNS1_NAME\");",
									"",
									"if (responseCode.code === 200) {",
									"    pm.test(\"Wide IP \"+DNS_NAME+\" deleted\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"} else if (responseCode.code === 422) {",
									"    pm.test(\"WideIP \"+DNS_NAME+\" does not exist\", function () {",
									"        pm.expect(pm.response.text()).to.include(\"path does not exist\");",
									"    });",
									"}",
									"",
									"setTimeout(function(){}, 1000);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n{\n\t\"op\":\"remove\",\n\t\"path\":\"{{PARTITION_NAME}}/Application\"\n \n}\n]"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/shared/appsvcs/declare/{{PARTITION_NAME}}",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare",
								"{{PARTITION_NAME}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-retrieve-addres-server-vs1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0641c77e-883d-46ff-8844-4fa7056ecdd9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "dc5bce32-91c9-4db9-aef5-0607bfcf4dc6",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"if (responseCode.code === 200) {",
									"  ",
									"    pm.collectionVariables.set(\"DNS_DEST\", jsonData.destination);",
									"    address = (pm.collectionVariables.get(\"DNS_DEST\")).split(\":\");",
									"    pm.collectionVariables.set('BIGIP_ADDRESS1', address[0]);",
									"    ",
									"    pm.test(\"VS \"+VS_NAME+ \" Address \"+address[0]+ \" found\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"} else",
									"    pm.test(\"VS \"+VS_NAME+\" does not exist\", function () {",
									"        pm.response.to.have.status(404);",
									"    });",
									"",
									"",
									"",
									"",
									"",
									"",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip{{COUNTER}}.f5lab.local/virtual-servers/~{{PARTITION_NAME}}~{{PATH_NAME}}~{{VS1_NAME}}",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"server",
								"~Common~bigip{{COUNTER}}.f5lab.local",
								"virtual-servers",
								"~{{PARTITION_NAME}}~{{PATH_NAME}}~{{VS1_NAME}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-checkin-address",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "648ff95d-5beb-43b8-a462-6810de2d9095",
								"exec": [
									"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\");",
									"",
									"var jsonData = pm.response.json();",
									"",
									"if(jsonData.status === \"Success\") {",
									"    pm.test(\"Address \"+ADDR+\" returned to Scope\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"} else {",
									"    pm.test(\"Address \"+ADDR+\" not assigned in Scope\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"}",
									"",
									"setTimeout(function(){}, 1000);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://10.1.20.6:81/addr/checkin?address={{BIGIP_ADDRESS1}}",
							"protocol": "http",
							"host": [
								"10",
								"1",
								"20",
								"6"
							],
							"port": "81",
							"path": [
								"addr",
								"checkin"
							],
							"query": [
								{
									"key": "address",
									"value": "{{BIGIP_ADDRESS1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-delete-server-vs1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b0a1d8f2-d707-4aab-9308-783fedee0477",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "18494e3c-6747-46c1-8874-6b3799d3a007",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
									"",
									"if (responseCode.code === 200) {",
									"    pm.test(\"Virtual Server \"+VS_NAME+\" deleted from server\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"} else ",
									"    pm.test(\"Virtual Server \"+VS_NAME+\" does not exist\", function () {",
									"        pm.response.to.have.status(404);",
									"    });",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip{{COUNTER}}.f5lab.local/virtual-servers/~{{PARTITION_NAME}}~{{PATH_NAME}}~{{VS1_NAME}}",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"server",
								"~Common~bigip{{COUNTER}}.f5lab.local",
								"virtual-servers",
								"~{{PARTITION_NAME}}~{{PATH_NAME}}~{{VS1_NAME}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Applications",
			"item": [
				{
					"name": "bigip-delete Application",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ccd03fe7-aa6f-4b95-b0f4-c0e911e6dac5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e21b6853-1a4f-4704-8d01-1402a012080a",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
									"",
									"pm.test(\"Application \"+VS_NAME+\" deleted\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"setTimeout(function(){}, 2000);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/declare/{{PARTITION_NAME}}",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare",
								"{{PARTITION_NAME}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "PSP",
			"item": [
				{
					"name": "bigip-delete-profile-psp",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9f4fef62-cdfd-4a45-bc0a-3930eb6606cb",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
									"\r",
									"if (responseCode.code === 200) {\r",
									"    pm.test(\"Profile \"+VS_NAME+\"-psp Deleted\", function () {\r",
									"        pm.response.to.have.status(200);\r",
									"    });\r",
									"} else \r",
									"    pm.test(\"Profile \"+VS_NAME+\"-psp Does Not Exist\", function () {\r",
									"        pm.response.to.have.status(404);\r",
									"    });\r",
									"\r",
									"setTimeout(function(){}, 2000);\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "fa9c710c-f47b-4905-865b-ba407f91ab53",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~Common~{{PARTITION_NAME}}-psp",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"profile",
								"access",
								"~Common~{{PARTITION_NAME}}-psp"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-delete-policy-psp",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "45fa0357-60ee-4840-94f8-ae02eb6aa4f6",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
									"\r",
									"if (responseCode.code === 200) {\r",
									"    pm.test(\"Policy \"+VS_NAME+\"-psp deleted\", function () {\r",
									"        pm.response.to.have.status(200);\r",
									"    });\r",
									"} else \r",
									"    pm.test(\"Policy \"+VS_NAME+\"-psp does not exist\", function () {\r",
									"        pm.response.to.have.status(404);\r",
									"    });\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9967c378-2ae4-43dd-9ad9-22b3a43abded",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy/~Common~{{PARTITION_NAME}}-psp",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"access-policy",
								"~Common~{{PARTITION_NAME}}-psp"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "APM Objects",
			"item": [
				{
					"name": "Connectivity Profile",
					"item": [
						{
							"name": "bigip-delete connectivity profile",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "49af9775-29a2-4f70-9239-cace3eda0806",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "50410196-a462-43b8-82a1-1934ee196be3",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(\"Connectivity Profile \"+VS_NAME+\"-cp deleted\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(\"Connectivity profile \"+VS_NAME+\"-cp does not exist\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											"setTimeout(function(){}, 2000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/connectivity/{{VS1_NAME}}-cp",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"profile",
										"connectivity",
										"{{VS1_NAME}}-cp"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-delete-tunnel-ppp",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0870b002-074b-43a7-b8e8-a3226456f0b2",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
											"\r",
											"if (responseCode.code === 200) {\r",
											"    pm.test(\"Tunnel \"+VS_NAME+\"-tunnel deleted\", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"} else \r",
											"    pm.test(\"Tunnel \"+VS_NAME+\"-tunnel does not exist\", function () {\r",
											"        pm.response.to.have.status(404);\r",
											"    });\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9ed134f4-6ee6-4641-97ae-dec64d439966",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-F5-REST-Coordination-Id",
										"type": "text",
										"value": "{{TRANSID}}",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/net/tunnels/tunnel/~Common~{{VS1_NAME}}-tunnel",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"net",
										"tunnels",
										"tunnel",
										"~Common~{{VS1_NAME}}-tunnel"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "AAA AD Servers",
					"item": [
						{
							"name": "bigip-delete-AAA AD",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d7a069ab-9498-4738-bf40-2e9d9a3cccd2",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(\"AAA AD Servers \"+VS_NAME+\" deleted\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(\"AAA AD Servers \"+VS_NAME+\" does not exist\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "46133df2-1509-4847-bbad-33d91b7238e6",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/active-directory/~Common~{{VS1_NAME}}-ad-servers",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"aaa",
										"active-directory",
										"~Common~{{VS1_NAME}}-ad-servers"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-delete-AD server pool",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6444fd93-94f4-45e8-9d76-a2e853c0f613",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(\"Pool \"+VS_NAME+\" Deleted\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(\"Pool \"+VS_NAME+\" does not exist\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/pool/~Common~{{VS1_NAME}}-ad-pool",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"pool",
										"~Common~{{VS1_NAME}}-ad-pool"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-delete-node",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "da2b2dbe-d5c7-4e00-b4e4-9e6b8e3ad667",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a9cf9408-e2b2-40f9-af2e-c6c8b968372b",
										"exec": [
											"if (responseCode.code === 200) {",
											"    pm.test(\"Node 10.1.20.7 deleted\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else if (responseCode.code === 404) { ",
											"    pm.test(\"Node 10.1.20.7 does not exist\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else if (responseCode.code === 400) {",
											"    pm.test(\"Unable to delete node 10.1.20.7. Still in use\", function () {",
											"        pm.expect(pm.response.text()).to.include(\"member of pool\");",
											"    });",
											"",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node/10.1.20.7",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"node",
										"10.1.20.7"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Webtop",
					"item": [
						{
							"name": "bigip-delete-webtop",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e8054b06-9c0c-4459-ae1a-992e0032b3c5",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"    pm.test(\"Webtop \"+VS_NAME+\" Deleted\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"} else ",
											"    pm.test(\"Webtop \"+VS_NAME+\" does not exist\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3b1100b8-85da-4e1a-a270-21a2d43d7995",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/webtop/~Common~{{VS1_NAME}}-webtop",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"resource",
										"webtop",
										"~Common~{{VS1_NAME}}-webtop"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Network Access Resource",
					"item": [
						{
							"name": "bigip-delete-resource-network",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1d7a0aef-497d-4eb1-b0bb-66e773ed3231",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"pm.test(\"Network Access Resource \"+VS_NAME+\"-vpn deleted\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"} else ",
											"pm.test(\"Network Access Resource \"+VS_NAME+\"-vpn does not exist\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a59eb3ff-af97-4ccb-9d16-c5a145322b8f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/network-access/~Common~{{VS1_NAME}}-vpn",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"resource",
										"network-access",
										"~Common~{{VS1_NAME}}-vpn"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-delete-resource-pool",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6c395bc1-2a25-4402-ac35-6c1fe57dac0f",
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
											"",
											"if (responseCode.code === 200) {",
											"pm.test(\"VPN Pool \"+VS_NAME+\"-vpn_pool deleted\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"} else ",
											"pm.test(\"VPN Pool \"+VS_NAME+\"-vpn_pool does not exist\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "035846a7-8abb-447c-838c-346ed4e8a3c4",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/leasepool/~Common~{{VS1_NAME}}-vpn_pool",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"apm",
										"resource",
										"leasepool",
										"~Common~{{VS1_NAME}}-vpn_pool"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Webtop Section",
					"item": [
						{
							"name": "Network Access",
							"item": [
								{
									"name": "bigip-delete-webtop-section",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a4001d4f-14b7-4b58-86bd-c3a5c7bb695c",
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"pm.test(\"Webtop Section \"+VS_NAME+\" deleted\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"Webtop Section \"+VS_NAME+\" does not exist\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6e5ba405-5f5d-41eb-828e-20a873577a33",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/resource/webtop-section/~Common~{{VS1_NAME}}-network_access",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"resource",
												"webtop-section",
												"~Common~{{VS1_NAME}}-network_access"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "loop",
			"item": [
				{
					"name": "loop",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e482aedf-3270-42a5-af56-a9e0eb949e44",
								"exec": [
									"var DC2_APM = pm.environment.get(\"DC2_APM\");",
									"var COUNTER = pm.collectionVariables.get(\"COUNTER\");",
									"",
									"if (DC2_APM === 'true' && COUNTER === '1') {",
									"postman.setNextRequest(\"start\");",
									"pm.collectionVariables.set('COUNTER', '2' );",
									"",
									"pm.test(\"Application deleted in DC1. Beginning DC2 Deletion\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"} else if (DC2_APM === 'false' && COUNTER === '1') {",
									"pm.test(\"Application deleted in DC1 \", function () {",
									"    pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"false\");",
									"});",
									"",
									"} else {",
									"pm.test(\"Application deleted in DC2 \", function () {",
									"    pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"true\");",
									"});",
									"pm.collectionVariables.set('COUNTER', '1' );",
									"}",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "a7c1496a-5a27-464a-8d97-b46d587ffcbf",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "f1188e75-63f1-4c47-905c-10a6d984cae0",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9af50284-1287-42b9-bb0b-121419fad1e5",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "046d1cf4-b04a-4538-a823-b6558fc5bbcd",
			"key": "CUSTOM_TYPE",
			"value": ""
		},
		{
			"id": "acfe8ed5-2bb8-487d-976f-126ac34f5c2c",
			"key": "DNS1_NAME",
			"value": ""
		},
		{
			"id": "d84fb453-d771-42d6-a4fa-273d4b20a9ae",
			"key": "PARTITION_NAME",
			"value": ""
		},
		{
			"id": "83ca15a2-4ed8-491e-8cf0-0dd148b2203b",
			"key": "PATH_NAME",
			"value": ""
		},
		{
			"id": "e534ccec-7ae0-4385-bd74-eab349b5e54d",
			"key": "VS1_NAME",
			"value": ""
		},
		{
			"id": "d8ff3011-88bb-4bd7-83bc-6ea9ab80ffc8",
			"key": "BIGIP_MGMT",
			"value": ""
		},
		{
			"id": "8d97adb7-421f-4b38-a0c1-7514e22e9a5e",
			"key": "BIGIP_SCOPE",
			"value": ""
		},
		{
			"id": "601c15f4-16c7-4bb9-b13a-93874930d498",
			"key": "COUNTER",
			"value": ""
		},
		{
			"id": "b5adb135-b096-4672-bbd5-85c0362391f2",
			"key": "BIGIP_ADDRESS1",
			"value": ""
		},
		{
			"id": "688c7f27-8dcf-4ba6-b52b-13e6796eab5b",
			"key": "DNS_DEST",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}